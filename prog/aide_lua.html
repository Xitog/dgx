<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Aide-mémoire Lua</title>
    <link rel="icon" href="../img/favicon.ico" type="image/x-icon" />
    <link rel="shortcut icon" href="../img/favicon.ico" type="image/x-icon" />
    <link href="../css/simplex.bootstrap.css" rel="stylesheet" type="text/css">
    <link href="../css/flashy.css" rel="styleSheet" type="text/css">
    <style type="text/css">
    </style>
  </head>
  <body>
    <div id="main" class="container">
    
      <nav class="navbar navbar-default" role="navigation">
        <div class="container-fluid">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
             <a class="navbar-brand" href="#">Menu</a>
          </div>
          <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
              <li id="Accueil"><a href="../index.html">Accueil</a></li>
              <li id="Blog"><a href="#blog" onclick="view_one_entry(0);">Blog</a></li>
              <li class="dropdown">
                <a id="Langues" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Langues <span class="caret"></span></a>
                <ul class="dropdown-menu" role="menu">
                <li class="dropdown-header">Français</li>
                  <li><a href="../francais/fiche_api_fr.html">Sons du français</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Italien</li>
                  <li><a href="../italien/beatrice.html">Beatrice : grammaire</a></li>
                  <li><a href="../italien/jeux.html">Jeux</a></li>
                </ul>
              </li>
              <li class="dropdown">
                <a id="Informatique" href="#" class="dropdown-toggle active" data-toggle="dropdown" role="button" aria-expanded="false">Informatique <span class="caret"></span></a>
                <ul class="dropdown-menu" role="menu">
                  <li class="dropdown-header">Python</li>
                  <li><a href="../python/aide_python.html">Aide-mémoire</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Ruby</li>
                  <li><a href="../ruby/guide_ruby.html">Guide</a></li>
                  <li><a href="../ruby/aide_ruby.html">Aide-mémoire</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Lua</li>
                  <li><a href="../lua/aide_lua.html" class="active">Aide-mémoire</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Selene <i>(mon langage)</i></li>
                  <li><a href="../selene/guide_selene">Guide</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Modélisation</li>
                  <li><a href="#" class="dead">Tutoriel sur XCore</a></li>
                  <li><a href="../model/json.html">Fiche sur JSON</a></li>
                </ul>
              </li>
              <li class="dropdown">
                <a id="Histoire" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Histoire <span class="caret"></span></a>
                <ul class="dropdown-menu" role="menu">
                  <li class="dropdown-header">Méthode</li>
                  <li><a href="../histoire/methode.html">Généralités</a></li>
                  <li><a href="../histoire/bibliographie.html">Bibliographie</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Aide-mémoires</li>
                  <li><a href="../histoire/france19eme.html">France au XIXe</a></li>
                </ul>
              </li>
              <li class="dropdown">
                <a id="Jeux" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Jeux <span class="caret"></span></a>
                <ul class="dropdown-menu" role="menu">
                  <li class="dropdown-header">Terres sauvages <i>(mon jdr)</i></li>
                  <li><a href="#" class="dead">Règles de jeu de rôles</a></li>
                  <li><a href="#" class="dead">Univers de jeu</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Livres dont VOUS êtes le héros</li>
                  <li><a href="../jeux/doc_talisman.html">Le Compagnon du Talisman</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Jeux vidéo</li>
                  <li><a href="#" class="dead">Guide des STR</a></li>
                  <li><a href="#" class="dead">Projet de STR</a></li>
                </ul>
              </li>
              <li class="dropdown">
                <a id="Autres" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Autres <span class="caret"></span></a>
                <ul class="dropdown-menu" role="menu">
                  <li class="dropdown-header">Collections</li>
                  <li><a href="../data/outil_collections.html#prenoms">Prénoms</a></li>
                  <li><a href="../data/outil_collections.html#langages">Langages</a></li>
                  <li><a href="../data/outil_collections.html#favoris_artistiques">Favoris artistiques</a></li>
                </ul>
              </li>
            </ul>
          </div><!--/.nav-collapse -->
        </div><!--/.container-fluid -->
      </nav>
      
      <div class="jumbotron">
        <h1 id="lua">Aide-mémoire Lua</h1>
        <hr>
        <p>Cet aide-mémoire expose la syntaxe <strong>Lua</strong> et quelques opérations de base. Idéal pour se rafraîchir la mémoire, il peut également servir à un apprentissage de ce langage pour des personnes qui connaissent déjà un ou plusieurs langages de programmation. Pour les débutants en programmation, un véritable guide serait préférable. Parfois, des différences notables avec le langage <strong>Python</strong> sont soulignées.</p>
        <p class="sign">Damien Gouteux,<br> mis à jour le 21 avril 2017,<br>créé le 4 avril 2017.</p>
      </div>
      
      <div id="content">
      
      <h2 id="sommaire">Sommaire</h2>
      <ol class="menu">
        <li><a href="#bases">Bases</a>
          <ol class="menu">
            <li><a href="#bas_aff">Affichage</a></li>
            <li><a href="#bas_key">Mots réservés</a></li>
            <li><a href="#bas_com">Commentaires</a></li>
          </ol>
        </li>
        <li><a href="#sites">Sites web</a>
          <ol class="menu">
            <li><a href="#sit_bib">Bibliothèques</a></li>
            <li><a href="#sit_tools">Outils</a></li>
          </ol>
        </li>
        <li><a href="#types">Types de base</a>
          <ol class="menu">
            <li><a href="#numbers">Nombres</a></li>
            <li><a href="#strings">Chaînes de caractères</a></li>
            <li><a href="#booleans">Booléens</a></li>
            <li><a href="#nil">Valeur nil</a></li>
            <li><a href="#table">Tables</a>
              <ol class="menu">
                <li><a href="#table_def">Définition</a></li>
                <li><a href="#table_acc">Accès</a></li>
                <li><a href="#table_meta">Métatable</a></li>
              </ol>
            </li>
          </ol>
        </li>
        <li><a href="#operators">Opérateurs</a>
          <ol class="menu">
            <li><a href="#op_bin">Opérateurs binaires</a>
              <ol class="menu">
                <li><a href="#ari">Opérateurs arithmétiques</a></li>
                <li><a href="#cmp">Opérateurs de comparaisons</a></li>
                <li><a href="#boo">Opérateurs booléens</a></li>
                <li><a href="#oth">Autres opérateurs</a></li>
              </ol>
            </li>
            <li><a href="#op_una">Opérateurs unaires</a>
              <ol class="menu">
                <li><a href="#ari">Opérateurs arithmétiques</a></li>
                <li><a href="#boo">Opérateurs booléens</a></li>
              </ol>
            </li>
          </ol>
        </li>
        <li><a href="#flux">Contrôle du flux</a>
          <ol class="menu">
            <li><a href="#seq">Séquence</a></li>
            <li><a href="#cond">Conditions</a></li>
            <li><a href="#loop">Répétitions</a></li>
          </ol>
        </li>
        <li><a href="#functions">Fonctions</a>
          <ol class="menu">
            <li><a href="#def">Définition</a></li>
            <li><a href="#call">Appel</a></li>
            <li><a href="#closure">Closure</a></li>
          </ol>
        </li>
        <li><a href="#spe">Gestion des exceptions</a>
          <ol class="menu">
            <li><a href="#exp">Appels protégés</a></li>
          </ol>
        </li>
        <li><a href="#base">Fonctions de base</a>
          <ol class="menu">
            <li><a href="#lib_io">Sortie et entrée console</a></li>
            <li><a href="#lib_numbers">Nombres</a></li>
            <li><a href="#lib_strings">Chaînes de caractères</a></li>
            <li><a href="#lib_tables">Tables</a></li>
            <li><a href="#lib_file">Fichiers</a></li>
          </ol>
        </li>
      </ol>
      
      <h2 id="bases">1. Bases</h2>
      
      <p>Date d'apparition du langage : 1993</p>
      <p>Créateurs : Roberto Ierusalimschy, Luiz Henrique de Figueiredo, Waldemar Celes (Brésil)</p>
      <p>Version actuelle à la date d'écriture : 5.3.4 (2017)</p>
      <p>Extension d'un fichier Lua : <span class="code">lua</span></p>
      <p>Exécuter mon_fichier.lua : <span class="code"><b>lua</b> </i>mon_fichier.lua</i></span></p>
      
      <h3 id="bas_aff">Affichage</h3>
      <p>Affichage sur la sortie standard (console) : <span class="code">print</span>
      <p>Le programme le plus simple en Lua : <span class="code">print("Hello World!")</span></p>
        
      <h3 id="bas_key">Mots réservés</h3>
      <p>Mots réservés (22) : and, break, do, else, elseif, end, false, for, function, goto, if, in, local, nil, not, or, repeat, return, then, true, until, while</p>
      
      <h3 id="bas_com">Commentaires</h3>
      <p>Commentaires en Lua : <span class="code"><i>-- mon commentaire jusqu'à la fin de la ligne</i></span></p>
      <p>Commentaires sur plusieurs lignes : 
      <div class="code">
        <b>--[[</b><br>
        <i>&nbsp;&nbsp;vos lignes</i><br>
        <b>--]]</b>
      </div>
      
      <p class="back"><a href="#sommaire">Retour sommaire</a></p>
      
      <h2 id="sites">Sites web</h2>
      
      <ul class="normale">
        <li>Site officiel du langage : <a href="https://www.lua.org">https://www.lua.org</a></li>
        <li>Le livre électronique <i>Programming in Lua</i>, 1<sup>ère</sup> édition (légèrement daté) : <a href="https://www.lua.org/pil/contents.html">https://www.lua.org/pil/contents.html</a></li>
        <li>Löve, une VM Lua mettant à disposition une bibliothèque pour faire des jeux : <a href="https://love2d.org/">https://love2d.org/</a></li>
        <li>Le wiki des utilisateurs de Lua : <a href="http://lua-users.org/wiki/">http://lua-users.org/wiki/</a></li>
        <li>Lua binaries, distributions de Lua pour différents systèmes d'exploitation : <a href="http://luabinaries.sourceforge.net/">http://luabinaries.sourceforge.net/</a></li>
        <li>MoonSharp, un intérpréteur Lua écrit en C# pour les plates-formes .Net, Mono et Unity : <a href="http://www.moonsharp.org/">http://www.moonsharp.org/</a></li>
      </ul>
      
      <h3 id="sit_bib">Bibliothèques</h3>
      <ul class="normale">
        <li>LuaRocks, un manager de package pour Lua : <a href="https://luarocks.org/">https://luarocks.org/</a></li>
        <li>Penlight, une librairie fondamentale pour Lua : <a href="http://stevedonovan.github.io/Penlight/api/index.html">http://stevedonovan.github.io/Penlight/api/index.html</a></li>
        <li>Bibliothèque de « parsing » : <a href="http://www.inf.puc-rio.br/~roberto/lpeg/">http://www.inf.puc-rio.br/~roberto/lpeg/</a></li>
        <li>Bibliothèque d'interface graphique : <a href="http://webserver2.tecgraf.puc-rio.br/iup/">http://webserver2.tecgraf.puc-rio.br/iup/</a></li>
      </ul>
      
      <h3 id="sit_tools">Outils</h3>
      <ul class="normale">
        <li>ZeroBrane Studio un IDE léger, gratuit, simple et efficace pour Lua : <a href="https://studio.zerobrane.com/">https://studio.zerobrane.com/</a></li>
        <li>Coder en Lua en ligne avec REPL.it et Moonlight (VM Lua en JavaScript) : <a href="https://repl.it/languages/lua">https://repl.it/languages/lua</a> et <a href="http://moonshinejs.org/">http://moonshinejs.org/</a></li>
      </ul>
      
      <p class="back"><a href="#sommaire">Retour sommaire</a></p>
      
      <h2 id="types">Types de base</h2>
      <h3 id="numbers">Nombres</h3>
      <h3 id="strings">Chaînes de caractères</h3>
      <h3 id="booleans">Booléens</h3>
      <h3 id="nil">Valeur nil</h3>
      <h3 id="table">Tables</h3>
      <h4 id="table_def">Définition</h4>
      <h4 id="table_acc">Accès</h4>
      <h4 id="table_meta">Métatable</h4>
      <h2 id="operators">Opérateurs</h3>
      <h3 id="op_bin">Opérateurs binaires</h4>
      <h4 id="ari">Opérateurs arithmétiques</h5>
      <h4 id="cmp">Opérateurs de comparaisons</h5>
      <h4 id="boo">Opérateurs booléens</h5>
      <h4 id="oth">Autres opérateurs</h5>
      <h3 id="op_una">Opérateurs unaires</h4>
      <h4 id="ari">Opérateurs arithmétiques</h5>
      <h4 id="boo">Opérateurs booléens</h5>
      
      <h2 id="flux">Contrôle du flux</h2>
      
      <h3 id="seq">Séquence</h3>
      
      <p>En Lua, le symbole pour terminer les instructions est <span class="code">;</span> mais il est totalement optionnel. Ce code est donc valide : <span class="code">a = 5 b = 6</span>
      
      <h3 id="cond">Conditions</h3>
      
      <p>Pour qu'une partie du code ne soit exécutée que si une condition est vrai, on utilisera <span class="code"><b>if</b></span> :</p>
      <div class="code">
        <b>if</b> condition <b>then</b><br />
        &nbsp;&nbsp; actions<br />
        [ <b>elseif</b> condition <b>then</b><br />
        &nbsp;&nbsp; actions ] <b>*</b><br />
        [ <b>else</b><br />
        &nbsp;&nbsp; actions ] <b>?</b><br />
        <b>end</b>
      </div>
      <p>Sont considérées fausses les valeurs <span class="code"><b>false</b></span> et <span class="code"><b>nil</b></span>. Toutes les autres valeurs sont vraies (dont <span class="code">{} "" 0</span>).</p>
      
      <h3 id="loop">Répétitions</h3>
      
      <p>Boucle qui s'exécute <em>tant que</em> la condition est vraie avec <span class="code"><b>while</b></span> :</p>
      <div class="code">
        <b>while</b> condition <b>do</b><br />
        &nbsp;&nbsp; actions<br />
        <b>end</b>
      </div>
      <p>Le corps de la boucle (ses actions) sera exécuté entre 0 et n fois.</p>
      
      <p>Avec <span class="code"><b>repeat</b></span>, le corps de la boucle sera exécuté au moins une fois car la condition est testée après :</p>
      <div class="code">
        <b>repeat</b><br />
        &nbsp;&nbsp; actions<br />
        <b>until</b> condition
      </div>
      
      <p>Autre grand classique des boucles, <span class="code"><b>for</b></span> qui peut-être utilisé avec un intervalle numérique :</p>
      <div class="code">
        <b>for</b> identifiant = début, fin [ , pas ] <b>do</b><br />
        &nbsp;&nbsp; actions<br />
        <b>end</b>
      </div>
      <p>Par défaut le pas est égal à 1 (si fin &lt; début, la boucle ne s'exécutera pas une seule fois).</p>
      
      <p>Ou avec une table indexée par des nombres :</p>
      <div class="code">
        <b>for</b> indice, valeur <b>in</b> ipairs(table) <b>do</b><br />
        &nbsp;&nbsp; actions<br />
        <b>end</b>
      </div>
      
      <p>Ou avec une table indexée par des chaînes :</p>
      <div class="code">
        <b>for</b> clé, valeur <b>in</b> pairs(table) <b>do</b><br />
        &nbsp;&nbsp; actions<br />
        <b>end</b>
      </div>
      
      <p>Dans les trois cas, on peut utiliser le mot-clé <span class="code"><b>break</b></span> pour sortir de la boucle.</p>
      <p>Il n'y a pas de mot-clé <em>continue</em> ou <em>next</em> en Lua pour passer à l'itération suivante.</p>
      
      <h2 id="functions">Fonctions</h2>
      <h3 id="def">Définition</h3>
      <h3 id="call">Appel</h3>
      <h3 id="closure">Closure</h3>
      <h2 id="spe">Gestion des exceptions</h2>
      <h3 id="exp">Appels protégés</h3>
      <h2 id="base">Fonctions de base</h2>
      <h3 id="lib_io">Sortie et entrée console</h3>
      <h3 id="lib_numbers">Nombres</h3>
      <h3 id="lib_strings">Chaînes de caractères</h3>
      <h3 id="lib_tables">Tables</h3>
      <h3 id="lib_file">Fichiers</h3>
      
    </div>
    </div>
    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
    
  </body>
</html>
