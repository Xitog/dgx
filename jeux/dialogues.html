<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Dialogues</title>
    <link rel="icon" href="https://xitog.github.io/dgx/img/favicon.ico" type="image/x-icon" />
    <link rel="shortcut icon" href="https://xitog.github.io/dgx/img/favicon.ico" type="image/x-icon" />
    <link href="https://xitog.github.io/dgx/css/simplex.bootstrap.css" rel="stylesheet" type="text/css">
    <link href="https://xitog.github.io/dgx/css/palatino.css" rel="styleSheet" type="text/css">
    <style type="text/css">
    table.repr {
      border-collapse: collapse;
      display: inline-block;
    }
    table.repr td {
      padding: 0px;
      text-align: center;
    }
    
    table.repr_border {
      border-collapse: collapse;
      display: inline-block;
    }
    table.repr_border td {
      padding: 0px;
      border: 1px solid black;
      font-size: 14px;
      text-align: center;
      color: black;
    }
    
    table.info td {
      border-bottom: 1px solid #777777;
      font-size: 14px;
      text-align: left;
      color: black;
    }
    table.info tr:first-child {
      border-top: 1px solid #777777;
    }
    table.info tr:nth-child(odd) {
      background-color: #EFEFEF;
    }
    table.info tr:nth-child(even) {
    }

    li {
      font-size: 14px;
      font-family: "Palatino Linotype", "Palatino", "Georgia";
      color: black;
    }
    
    div.code {
      border: 1px solid rgb(20,121,204);
      background-color: #FEFEFE;
      font-family: "Consolas";
      font-size: 14px;
      color: black;
      padding: 4px;
    }
    div.code b {
      color: orange;
    }
    
    span.game {
      font-weight: bold;
      color: darkgreen;
    }
    span.number {
      color: red;
    }
    span.keyword_fr {
      font-weight: bold;
    }
    span.keyword_en {
      font-weight: bold;
      font-style: italic;
    }
    </style>
  </head>
  <body>
    <div id="main" class="container">
    
      <nav class="navbar navbar-default" role="navigation">
        <div class="container-fluid">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
             <a class="navbar-brand" href="#">Menu</a>
          </div>
          <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
              <li id="Accueil"><a href="https://xitog.github.io/dgx/index.html">Accueil</a></li>
              <li id="Blog"><a href="https://xitog.github.io/dgx/blog.html">Blog</a></li>
              <li class="dropdown">
                <a id="Langues" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Langues <span class="caret"></span></a>
                <ul class="dropdown-menu" role="menu">
                <li class="dropdown-header">Français</li>
                  <li><a href="https://xitog.github.io/dgx/francais/fiche_api_fr.html">Fiche sur les phonèmes du français</a></li>
                  <li><a href="https://xitog.github.io/dgx/francais/outil_stats_fr.html">Outil d'analyse textuelle</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Italien</li>
                  <li><a href="https://xitog.github.io/dgx/italien/beatrice.html">Beatrice : grammaire</a></li>
                  <li><a href="https://xitog.github.io/dgx/italien/jeu_conjugaison.html">Jeu sur la conjugaison</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Anglais</li>
                  <li><a href="https://xitog.github.io/dgx/anglais/jeu_vocabulaire.html">Jeu sur le vocabulaire</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Linguistique</li>
                  <li><a href="https://xitog.github.io/dgx/linguistique/informations.html">Informations générales</a></li>
                </ul>
              </li>
              <li class="dropdown">
                <a id="Informatique" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Informatique <span class="caret"></span></a>
                <ul class="dropdown-menu" role="menu">
                  <li class="dropdown-header">Programmation</li>
                  <li><a href="https://xitog.github.io/dgx/informatique/syntaxes.html">Syntaxes comparées</a></li>
                  <li><a href="https://xitog.github.io/dgx/informatique/python.html">Aide-mémoire Python</a></li>
                  <li><a href="https://xitog.github.io/dgx/informatique/ruby.html">Aide-mémoire Ruby</a></li>
                  <li><a href="https://xitog.github.io/dgx/informatique/lua.html">Aide-mémoire Lua</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Modélisation</li>
                  <li><a href="./informatique/bnf.html">Aide-mémoire BNF et EBNF</a></li>
                  <li><a href="./informatique/json.html">Aide-mémoire JSON</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Autres</li>
                  <li><a href="https://xitog.github.io/dgx/informatique/outils.html">Logiciels utiles</a></li>
                  <li><a href="https://xitog.github.io/dgx/data/outil_collections.html#langages">Liste de langages</a></li>
                </ul>
              </li>
              <li class="dropdown">
                <a id="Histoire" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Histoire <span class="caret"></span></a>
                <ul class="dropdown-menu" role="menu">
                  <li class="dropdown-header">Méthode</li>
                  <li><a href="https://xitog.github.io/dgx/histoire/methode.html">Généralités</a></li>
                  <li><a href="https://xitog.github.io/dgx/histoire/bibliographie.html">Bibliographie</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Aide-mémoires</li>
                  <li><a href="https://xitog.github.io/dgx/histoire/france19eme.html">France au XIXe</a></li>
                </ul>
              </li>
              <li class="dropdown active">
                <a id="Jeux" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Jeux <span class="caret"></span></a>
                <ul class="dropdown-menu" role="menu">
                  <li class="dropdown-header">Jeux de rôles</i></li>
                  <li><a href="https://xitog.github.io/dgx/jeux/systeme_rpg_un.html">Essai de système</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Livres dont VOUS êtes le héros</li>
                  <li><a href="https://xitog.github.io/dgx/jeux/compagnon_talisman.html">Le Compagnon du Talisman</a></li>
                  <li><a href="https://xitog.github.io/dgx/jeux/compagnon_sorcier.html">Le Compagnon du Sorcier</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Jeux vidéo</li>
                  <li><a href="https://xitog.github.io/dgx/jeux/rts.html">Les enfants de Dune : les RTS</a></li>
                  <li><a href="https://xitog.github.io/dgx/jeux/raycasting.html">Le raycasting : la 2.5D</a></li>
                  <li><a href="https://xitog.github.io/dgx/jeux/play_rts.html">Jouer à mon RTS</a></li>
                  <li><a href="https://xitog.github.io/dgx/jeux/play_fps.html">Jouer à mon FPS</a></li>
                  <li><a href="https://xitog.github.io/dgx/data/outil_collections.html#jv">Jeux vidéo favoris</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Articles techniques</i></li>
                  <li><a href="https://xitog.github.io/dgx/jeux/transitions.html">Cartes et transitions</a></li>
                  <li><a href="https://xitog.github.io/dgx/jeux/dialogues.html" class="active">Dialogues</a></li>
                </ul>
              </li>
              <li class="dropdown">
                <a id="Autres" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Autres <span class="caret"></span></a>
                <ul class="dropdown-menu" role="menu">
                  <li class="dropdown-header">Musique</li>
                  <li><a href="https://xitog.github.io/dgx/concerts_classiques/index.html">Concerts classiques</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Collections</li>
                  <li><a href="https://xitog.github.io/dgx/data/outil_collections.html#prenoms">Prénoms</a></li>
                  <li><a href="https://xitog.github.io/dgx/data/outil_collections.html#livres">Livres lus</a></li>
                  <li><a href="https://xitog.github.io/dgx/data/outil_collections.html#favoris_artistiques">Favoris artistiques</a></li>
                  <li><a href="https://xitog.github.io/dgx/liens.html">Liens</a></li>
                  <li><a href="https://xitog.github.io/dgx/liste_liens.html">Tous les liens</a></li>
                </ul>
              </li>
            </ul>
          </div><!--/.nav-collapse -->
        </div><!--/.container-fluid -->
      </nav>
  
      <div id="content" class="palatino">

        <h1>Dialogues</h1>
        <h2>Sommaire</h2>
        <ul>
          <li><a href="#I">I. Un système de dialogues</a>
            <ul>
              <li><a href="#IA">I.A Modélisation des dialogues en arbre</a></li>
              <li><a href="#IB">I.B Séparation de la structure et des données</a></li>
              <li><a href="#IC">I.C Internationalisation</a></li>
              <li><a href="#ID">I.D Parcours</a></li>
              <li><a href="#IE">I.E Exemples de résultats</a></li>
            </ul>
          </li>
          <li><a href="#II">II. Historique</a></li>
          <li><a href="#III">III. Crédits</a></li>
        </ul>
        
        <section>
          <h2 id="I">I. Un système de dialogues</h2>
          <p>Un système de dialogue permet de gérer les échanges entre le personnage du joueur et des personnages non-joueurs (PNJ). Le joueur choisir les réponses de son personnage. Dans les systèmes classiques, comme celui de <span class="game">Baldur's Gate</span>, les choix proposent la réponse complète qui sera prononcée une fois qu'elle sera choisie. Dans d’autres, comme <span class="game">Mass Effect</span>, seul une idée générale de la réponse est donnée, avec parfois des effets d’incompréhension. Notre système se veut classique.</p>
          <section>
            <h3 id="IA">I.A Modélisation des dialogues en arbre</h3>
            <p>La première étape est de séparer la structure des dialogues, les enchaînements et les choix, du texte des dialogues. Pour cela, les dialogues vont être enregistrés sous la forme d'arbre. Nous présentons ci-dessous un exemple d'arbre avec le texte, en utilisant le codage suivant :</p>
            <ul>
              <li>Les phrases en noir indiquent les dialogues du PNJ,</li>
              <li>les phrases en <i>italique</i> et <span style="color: blue;">bleu</span> sont les réponses que le personnage du joueur peut prononcer,</li>
              <li>entre parenthèses le ton des réponses du joueur pour aider à leur compréhension,</li>
              <li>entre crochets des tests nécessaires pour avoir accès à une réponse du joueur ou obtenir une réponse d'un PNJ.</li>
            </ul>
            <p>Exemple d'arbre de dialogue avec texte, le joueur incarne un inquisiteur chargé de trouver une certaine Siriah Anrir, qui réussirait des miracles à l'aide d'arts sombres. Pour cela, il se rend dans le village où elle serait située et entrepend un villageois :</p>
            <ul>
              <li>Bonjour, étranger, que puis-je pour vous ?
                <ol>
                  <li><i style="color: blue;">Je cherche Siriah Anrir, où puis la trouver ?</i>
                    <ul>
                      <li>Je ne connais pas cette Dame.</li>
                      <li>[Charisme > 14] Pourquoi voulez-vous rencontrer notre Dame ?
                        <ol>
                          <li><i style="color: blue;">[Intelligence > 14] (mensonge) On m'a vanté ses pouvoirs et j'aurais aimé être béni.</i>
                            <ul>
                              <li>[Charisme > 16] Très bien, son temple est sous la maison communale.</li>
                              <li>Elle viendra à vous quand vous serez prêt. Bonne journée.</li>
                            </ul>
                          </li>
                          <li><i style="color: blue;">Je suis ici pour enquêter sur ses agissements.</i>
                            <ul>
                              <li>Je n'ai rien à vous dire. Bonne journée.</li>
                            </ul>
                          </li>
                        </ol>
                      </li> 
                    </ul>
                  </li>
                  <li><i style="color: blue;">Je désire rencontrer le chef du village.</i>
                    <ul>
                      <li>Le bourgmestre a disparu depuis trois nuits. Tout le village est très inquiet. Pourriez-vous nous aider à la retrouver ?
                        <ol>
                          <li><i style="color: blue;">Je vais voir ce que je peux faire.</i></li>
                          <li><i style="color: blue;">(désolé) Je suis désolé mais je ne peux pas vous aider.</i>
                            <ul>
                              <li>Cela ne fait rien. Bonne route étranger.</li>
                            </ul>
                          </li>
                          <li><i style="color: blue;">(méprisant) Cela ne m'intéresse pas.</i></li>
                        </ol>
                      </li>
                    </ul>
                  </li>
                  <li><i style="color: blue;">J'ai besoin de soin.</i>
                    <ul>
                      <li>Vous trouverez le shaman dans sa hutte, à la lisière des bois.
                        <ul>
                          <li><i style="color: blue;">Merci, au revoir.</i></li>
                        </ul>
                      </li>
                    </ul>
                  </li>
                </ol>
              </li>
            </ul>
            <p>On voit que la structure de données applicable est <b>l'arbre</b>.</p>
          </section>
          
          <section>
            <h3 id="IB">I.B Séparation de la structure et des données</h3>
            <p>On va séparer les données, le texte, de la structure. On a d'un côté la structure qui garde, en plus de l'arborescence des réponses indiquant les enchaînements et les choix possibles, la personne qui parle et les tests associés. On indique le texte par un simple identifiant numérique. Pour ne pas confondre, les nombres indiquant un choix sont en rouge :</p>
            <ul>
              <li>1
                <ol>
                  <li style="color: red;"><i style="color: blue;">2</i>
                    <ul>
                      <li>3</li>
                      <li>[Charisme > 14] 4
                        <ol>
                          <li style="color: red;"><i style="color: blue;">[Intelligence > 14] 5</i>
                            <ul>
                              <li>[Charisme > 16] 6</li>
                              <li>7</li>
                            </ul>
                          </li>
                          <li style="color: red;"><i style="color: blue;">8</i>
                            <ul>
                              <li>9</li>
                            </ul>
                          </li>
                        </ol>
                      </li> 
                    </ul>
                  </li>
                  <li style="color: red;"><i style="color: blue;">10</i>
                    <ul>
                      <li>11
                        <ol>
                          <li style="color: red;"><i style="color: blue;">12</i></li>
                          <li style="color: red;"><i style="color: blue;">13</i>
                            <ul>
                              <li>14</li>
                            </ul>
                          </li>
                          <li style="color: red;"><i style="color: blue;">15</i></li>
                        </ol>
                      </li>
                    </ul>
                  </li>
                  <li style="color: red;"><i style="color: blue;">16</i>
                    <ul>
                      <li>17
                        <ul>
                          <li><i style="color: blue;">18</i></li>
                        </ul>
                      </li>
                    </ul>
                  </li>
                </ol>
              </li>
            </ul>
            <p>Et le texte, qu'on peut stocker dans un fichier texte, XML, JSON ou binaire, qui est de la forme clé => texte :</p>
            <ol>
              <li>Bonjour, étranger, que puis-je pour vous ?</li>
              <li>Je cherche Siriah Anrir, où puis la trouver ?</li>
              <li>Je ne connais pas cette Dame.</li>
              <li>Pourquoi voulez-vous rencontrer notre Dame ?</li>
              <li>(mensonge) On m'a vanté ses pouvoirs et j'aurais aimé être béni.</li>
              <li>Très bien, son temple est sous la maison communale.</li>
              <li>Elle viendra à vous quand vous serez prêt. Bonne journée.</li>
              <li>Je suis ici pour enquêter sur ses agissements.</li>
              <li>Je n'ai rien à vous dire. Bonne journée.</li>
              <li>Je désire rencontrer le chef du village.</li>
              <li>Le bourgmestre a disparu depuis trois nuits. Tout le village est très inquiet. Pourriez-vous nous aider à la retrouver ?</li>
              <li>Je vais voir ce que je peux faire.</li>
              <li>(désolé) Je suis désolé mais je ne peux pas vous aider.</li>
              <li>Cela ne fait rien. Bonne route étranger.</li>
              <li>(méprisant) Cela ne m'intéresse pas.</li>
              <li>J'ai besoin de soin.</li>
              <li>Vous trouverez le shaman dans sa hutte, à la lisière des bois.</li>
              <li>Merci, au revoir.</li>
          </section>
          
          <section>
            <h3 id="IC">I.C Internationalisation</h2>
            <p>Ce système de dialogue doit être pensé pour être facilement internationalisable : traduisible en de nombreuses langues, sans nécessiter de recompiler ou recoder une partie du système spécifiquement pour une langue. La division effectuée dans le chapitre précédent facilite grandement cette étape : la structure de l'arbre ne change pas d'une langue à l'autre, seuls les lignes de textes changent. Il suffit de faire traduire la ressource contenant toutes les répliques pour traduire le jeu.</p>
          </section>
          
          <section>
            <h3 id="ID">I.D Parcours</h2>
          </section>
          
          <section>
            <h3 id="IE">I.E Exemples de résultats</h2>
          </section>
          
        </section>
        
        <section>
          <h2 id="II">II. Historique</h1>
        </section>
        
        <section>
          <h2 id="III">III. Crédits</h1>
        </section>

      </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>

  </body>
</html>