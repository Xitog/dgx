<!DOCTYPE HTML>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Format TED</title>
  <link rel="icon" href="https://xitog.github.io/dgx/img/favicon.ico" type="image/x-icon" />
  <link rel="shortcut icon" href="https://xitog.github.io/dgx/img/favicon.ico" type="image/x-icon" />
  <link href="https://xitog.github.io/dgx/css/simplex.bootstrap.css" rel="stylesheet">
  <link href="https://xitog.github.io/dgx/css/flashy.css" rel="stylesheet">
  <style type="text/css">
    p code span.type,             pre span.type               { color: purple;  }
    p code span.lua-identifier,   pre span.lua-identifier     { color: black;   }
    p code span.lua-operator,     pre span.lua-operator       { color: black;   }
    p code span.lua-separator,    pre span.lua-separator      { color: black;   }
    p code span.lua-special,      pre span.lua-special        { color: purple;  }
    p code span.lua-nil,          pre span.lua-nil            { color: #1479cc; }
    p code span.lua-boolean,      pre span.lua-boolean        { color: #1479cc; }
    p code span.lua-number,       pre span.lua-number         { color: red;     }
    p code span.lua-comment,      pre span.lua-comment        { color: grey; font-style: italic; }
    p code span.lua-line_comment, pre span.lua-line_comment   { color: grey; font-style: italic; }
    p code span.lua-string,       pre span.lua-string         { color: orange;  }
    p code span.lua-keyword,      pre span.lua-keyword        { color: #1479cc; }
  </style>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
</head>
<body>
<link href="https://fonts.googleapis.com/css2?family=Inconsolata" rel="stylesheet">
<div id="main" class="container">
      <nav class="navbar navbar-default" role="navigation">
        <div class="container-fluid">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
             <a class="navbar-brand" href="#">Menu</a>
          </div>
          <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
              <li id="Accueil"><a href="https://xitog.github.io/dgx/index.html">Accueil</a></li>
              <li id="Blog"><a href="https://xitog.github.io/dgx/blog.html">Blog</a></li>
              <li class="dropdown">
                <a id="Langues" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Langues <span class="caret"></span></a>
                <ul class="dropdown-menu" role="menu">
                <li class="dropdown-header">Français</li>
                  <li><a href="https://xitog.github.io/dgx/francais/fiche_api_fr.html">Fiche sur les phonèmes du français</a></li>
                  <li><a href="https://xitog.github.io/dgx/francais/outil_stats_fr.html">Outil d'analyse textuelle</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Italien</li>
                  <li><a href="https://xitog.github.io/dgx/italien/beatrice.html">Beatrice : grammaire</a></li>
                  <li><a href="https://xitog.github.io/dgx/italien/jeu_conjugaison.html">Jeu sur la conjugaison</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Anglais</li>
                  <li><a href="https://xitog.github.io/dgx/anglais/jeu_vocabulaire.html">Jeu sur le vocabulaire</a></li>
                  <li><a href="https://xitog.github.io/dgx/anglais/verbes.html">Verbes fréquents</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Interlingua</li>
                  <li><a href="https://xitog.github.io/dgx/interlingua/conjugueur.html">Conjugueur</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Linguistique</li>
                  <li><a href="https://xitog.github.io/dgx/linguistique/informations.html">Informations générales</a></li>
                </ul>
              </li>
              <li class="dropdown">
                <a id="Informatique" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Informatique <span class="caret"></span></a>
                <ul class="dropdown-menu" role="menu">
                  <li class="dropdown-header">Projets</li>
                  <li><a href="https://xitog.github.io/dgx/ash/index.html">Ash</a></li>
                  <li><a href="https://xitog.github.io/dgx/hamill/index.html">Hamill</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Programmation</li>
                  <li><a href="https://xitog.github.io/dgx/informatique/syntaxes.html">Syntaxes comparées</a></li>
                  <li><a href="https://xitog.github.io/dgx/informatique/python.html">Aide-mémoire Python</a></li>
                  <li><a href="https://xitog.github.io/dgx/informatique/ruby.html">Aide-mémoire Ruby</a></li>
                  <li><a href="https://xitog.github.io/dgx/informatique/lua.html">Aide-mémoire Lua</a></li>
                  <li><a href="https://xitog.github.io/dgx/informatique/ruby_guide.html">Guide Ruby</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Modélisation</li>
                  <li><a href="https://xitog.github.io/dgx/informatique/bnf.html">Aide-mémoire BNF et EBNF</a></li>
                  <li><a href="https://xitog.github.io/dgx/informatique/json.html">Aide-mémoire JSON</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Autres</li>
                  <li><a href="https://xitog.github.io/dgx/informatique/version_control.html">Gestion de versions</a></li>
                  <li><a href="https://xitog.github.io/dgx/informatique/tools_langs.html">Logiciels utiles et autres langages</a></li>
                </ul>
              </li>
              <li class="dropdown">
                <a id="Histoire" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Histoire <span class="caret"></span></a>
                <ul class="dropdown-menu" role="menu">
                  <li class="dropdown-header">Méthode</li>
                  <li><a href="https://xitog.github.io/dgx/histoire/methode.html">Généralités</a></li>
                  <li><a href="https://xitog.github.io/dgx/histoire/bibliographie.html">Bibliographie</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Aide-mémoires</li>
                  <li><a href="https://xitog.github.io/dgx/histoire/france19eme.html">France au XIX<sup>e</sup></a></li>
                </ul>
              </li>
              <li class="dropdown">
                <a id="Jeux" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Passe-temps <span class="caret"></span></a>
                <ul class="dropdown-menu" role="menu">
                  <li class="dropdown-header">Projets</li>
                  <li><a href="https://xitog.github.io/dgx/teddy/index.html">Éditeur de carte</a></li>
                  <li><a href="https://xitog.github.io/dgx/rts/index.html">Jouer à mon RTS</a></li>
                  <li><a href="https://xitog.github.io/dgx/passetemps/project_fps.html">Jouer à mon FPS</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Présentations générales</li>
                  <li><a href="https://xitog.github.io/dgx/passetemps/pres_jeux.html">Les jeux</a></li>
                  <li><a href="https://xitog.github.io/dgx/passetemps/pres_jeuxvideo.html">Les jeux vidéo</a></li>
                  <li><a href="https://xitog.github.io/dgx/passetemps/pres_favoris.html">Favoris artistiques</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Jeux de rôles</li>
                  <li><a href="https://xitog.github.io/dgx/passetemps/systemes_rpg.html">Systèmes des RPG</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Livres-jeux</li>
                  <li><a href="https://xitog.github.io/dgx/passetemps/compagnon_talisman.html">Le Compagnon du Talisman</a></li>
                  <li><a href="https://xitog.github.io/dgx/passetemps/compagnon_sorcier.html">Le Compagnon du Sorcier</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Histoire des jeux vidéo</li>
                  <li><a href="https://xitog.github.io/dgx/passetemps/history_rts.html">Les enfants de Dune : les RTS</a></li>
                  <li><a href="https://xitog.github.io/dgx/passetemps/history_fps.html">Les enfants de Doom : les FPS</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Techniques des jeux vidéo</li>
                  <li><a href="https://xitog.github.io/dgx/passetemps/tech_raycasting_fr.html">Le raycasting : la 2.5D</a></li>
                  <li><a href="https://xitog.github.io/dgx/passetemps/tech_transitions.html">Cartes et transitions</a></li>
                  <li><a href="https://xitog.github.io/dgx/passetemps/tech_dialogues.html">Dialogues</a></li>
                </ul>
              </li>
              <li class="dropdown">
                <a id="Autres" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Autres <span class="caret"></span></a>
                <ul class="dropdown-menu" role="menu">
                  <li class="dropdown-header">Applications</li>
                  <li><a href="https://xitog.github.io/dgx/concerts_classiques/index.html">Concerts classiques</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Collections</li>
                  <li><a href="https://xitog.github.io/dgx/data/outil_collections.html#prenoms">Prénoms</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Liens</li>
                  <li><a href="https://xitog.github.io/dgx/plan.html">Plan du site</a></li>
                  <li><a href="https://xitog.github.io/dgx/liens.html">Liste de liens</a></li>
                </ul>
              </li>
            </ul>
          </div><!--/.nav-collapse -->
        </div><!--/.container-fluid -->
      </nav>

<div id="content-div">
<h1 id="sommaire">Sommaire</h1>
<ul>
  <li><a href="#1.-présentation">1. Présentation</a></li>
</ul>
<h1 id="1.-présentation">1. Présentation</h1>
<p>Wolfenstein 3D, développé par id Software, est un des premiers jeux de tir à la première personne (first person shooter en anglais ou FPS). Sa version shareware pour DOS est sortie le 5 mai 1992 et diffusée sur BBS. Même si ce n'est pas le premier FPS, même si ses graphismes sont rudimentaires, il se démarque par son gameplay nerveux et satisfaisant, et des exigences matérielles basses. Son impact sera immense, surpassé seulement par le jeu suivant d'id, Doom, sorti en 1993.</p>
<p>Wolfenstein 3D utilise une technique connue sous le nom de raycasting. Le moteur du jeu (engine en anglais) envoie des rayons à partir de la position du joueur. Ces rayons rencontrent les murs et un calcul permet d'afficher ce que verrait le joueur à travers les yeux du personnage. Cette perspective, appelée parfois réalité virtuelle à l'époque, permet une immersion bien plus grande du joueur.</p>
<p>Les murs sont texturés : au lieu d'être un aplat de couleur, ils sont revêtus de différentes textures qui représentent des briques, une affiche, des planches de bois… Mais l'astuce est que le niveau est une simple grille en 2D, à partir de laquelle le moteur, par calculs, donne une vision 3D. Le nom de 2.5D a parfois été utilisée pour ce type de moteur. Le niveau est aussi peuplée d'ennemis et d'objets représentés par des sprites, des images en 2D. Doom utilisera lui toujours un plan 2D mais avec des murs et non une grille.</p>
<p>Le jeu était programmé en C avec de l'assembleur où le besoin de rapidité est le plus critique. Il affichait une glorieuse résolution de 320x200 en 256 couleurs en mode VGA. Les niveaux étaient fait à l'aide de l'outil Tile Editor (TEd) déjà utilisé pour les jeux de plateformes Commander Keen d'id. Ceux-ci utilisaient la grille pour représenter un niveau de profil, une tranche verticale.</p>
<p>Nous nous proposons dans cette article d'explorer le format TEd version 5 utilisé par les différentes versions de Wolfenstein 3d, avec des différences. Les cartes sont stockées dans deux fichiers : un fichier d'en-têtes et un fichier de contenu proprement dit. Le fichier d'en-têtes est un découpage de celui de contenu, indiquant où commencent les niveaux. Le fichier d'en-tête est ainsi constitué :</p>
<table>
<tr><th style="text-align: center"> Emplacement </th><th style="text-align: center"> Type                             </th><th style="text-align: center"> Nombre </th><th style="text-align: center"> Nom     </th><th style="text-align: center"> Description           </th></tr>
<tr><td style="text-align: center"> 0           </td><td> <code><span class="lua-identifier" title="token n°0 : identifier">Unsigned</span> <span class="lua-identifier" title="token n°2 : identifier">int</span> <span class="lua-number" title="token n°4 : number">16</span> <span class="lua-identifier" title="token n°6 : identifier">little</span> <span class="lua-identifier" title="token n°8 : identifier">endian</span></code> </td><td style="text-align: center"> 1      </td><td> magic    </td><td> Témoin de compression  </td></tr>
<tr><td style="text-align: center"> 2 à ?       </td><td> <code><span class="lua-identifier" title="token n°0 : identifier">Signed</span> <span class="lua-identifier" title="token n°2 : identifier">int</span> <span class="lua-number" title="token n°4 : number">32</span> <span class="lua-identifier" title="token n°6 : identifier">little</span> <span class="lua-identifier" title="token n°8 : identifier">endian</span></code>   </td><td style="text-align: center"> 100    </td><td> ptr      </td><td> Début de niveau        </td></tr>
<tr><td style="text-align: center"> 402         </td><td> <code><span class="lua-special" title="token n°0 : special">?</span></code>                             </td><td style="text-align: center"> 1      </td><td> tileinfo </td><td> Propriétés des tuiles  </td></tr>
</table>
<p>Wolfenstein n'utilise de tileinfo. Ce fichier est nommé <code><span class="lua-identifier" title="token n°0 : identifier">maphead</span><span class="lua-operator" title="token n°1 : operator">.</span><span class="lua-identifier" title="token n°2 : identifier">wlX</span></code> où X indique le numéro d'épisode (de 1 à 6). Dans les jeux prédécents utilisant TEd, ces informations étaient parfois directement mises dans l'exécutable du jeu (fichier .exe).</p>

  </body>
</html>