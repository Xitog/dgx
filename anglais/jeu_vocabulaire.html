<html>
  <head>
    <title>Test anglais</title>
    <script>
  
    function shuffle(array) {
      var currentIndex = array.length, temporaryValue, randomIndex;

      // While there remain elements to shuffle...
      while (0 !== currentIndex) {

        // Pick a remaining element...
        randomIndex = Math.floor(Math.random() * currentIndex);
        currentIndex -= 1;

        // And swap it with the current element.
        temporaryValue = array[currentIndex];
        array[currentIndex] = array[randomIndex];
        array[randomIndex] = temporaryValue;
      }

      return array;
    }
    
    function test() {
      let answer;
      //for (let obj of document.images) { // ET PAS in !
      //  console.log("Info :", obj, obj.id);
      //  answer = obj.id;
      //}
      let o = document.getElementById("answer");
      let test_name = tests_list[tests_nb];
      if (o.value === test_name) {
        alert("Bien joué !");
        tests_nb++;
        if (tests_nb == tests_list.length) {
          alert("Tous les tests sont terminés. On recommence !");
          tests_list = shuffle(tests_list);
          tests_nb = 0;
        }
        let i =  document.getElementById("answer");
        i.value = "";
        on_load();
      } else {
        alert("Il y a une erreur !");
      }
    }
    
    var tests = {
        "book"   : "./images/white-book.png",
        "read"   : "./images/read.png",
        "pencil" : "./images/pencil.png",
        "talk"   : "./images/discussion.png",
        "eat"    : "./images/eating.png",
        "drink"  : "./images/drinking.png",
        "pull"   : "./images/pull.png",
        "push"   : "./images/push.png",
        "run"    : "./images/run.png",
    };
    
    var tests_list = [
        "book", "read", "pencil", "talk", "eat", "drink", "pull", "push", "run",
    ];
    tests_list = shuffle(tests_list);
    
    var tests_nb = 0;
    
    function on_load() {
        let o = document.getElementById("pic");
        let test_name = tests_list[tests_nb];
        o.src = tests[test_name];
    }
    </script>
  </head>
  <body onload="on_load();">
    <div id="main" class="container">
      <nav class="navbar navbar-default" role="navigation">
        <div class="container-fluid">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
             <a class="navbar-brand" href="#">Menu</a>
          </div>
          <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
              <li id="Accueil"><a href="../index.html">Accueil</a></li>
              <li id="Blog"><a href="#blog" onclick="view_one_entry(0);">Blog</a></li>
              <li class="dropdown active">
                <a id="Langues" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Langues <span class="caret"></span></a>
                <ul class="dropdown-menu" role="menu">
                <li class="dropdown-header">Français</li>
                  <li><a href="../francais/fiche_api_fr.html">Fiche sur les phonèmes du français</a></li>
                  <li><a href="../francais/outil_stats_fr.html">Outil d'analyse textuelle</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Italien</li>
                  <li><a href="../italien/beatrice.html">Beatrice : grammaire</a></li>
                  <li><a href="../italien/jeu_conjugaison.html">Jeu sur la conjugaison</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Anglais</li>
                  <li><a href="../anglais/jeu_vocabulaire.html" class="active">Jeu sur le vocabulaire</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Linguistique</li>
                  <li><a href="../linguistique/informations.html">Informations générales</a></li>
                </ul>
              </li>
              <li class="dropdown">
                <a id="Informatique" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Informatique <span class="caret"></span></a>
                <ul class="dropdown-menu" role="menu">
                  <li class="dropdown-header">Programmation</li>
                  <li><a href="../informatique/syntaxes.html">Syntaxes comparées</a></li>
                  <li><a href="../informatique/python.html">Aide-mémoire Python</a></li>
                  <li><a href="../informatique/ruby.html">Aide-mémoire Ruby</a></li>
                  <li><a href="../informatique/lua.html">Aide-mémoire Lua</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Modélisation</li>
                  <li><a href="../informatique/json.html">Aide-mémoire JSON</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Autres</li>
                  <li><a href="../informatique/outils.html">Logiciels utiles</a></li>
                  <li><a href="../data/outil_collections.html#langages">Liste de langages</a></li>
                </ul>
              </li>
              <li class="dropdown">
                <a id="Histoire" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Histoire <span class="caret"></span></a>
                <ul class="dropdown-menu" role="menu">
                  <li class="dropdown-header">Méthode</li>
                  <li><a href="../histoire/methode.html">Généralités</a></li>
                  <li><a href="../histoire/bibliographie.html">Bibliographie</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Aide-mémoires</li>
                  <li><a href="../histoire/france19eme.html">France au XIXe</a></li>
                </ul>
              </li>
              <li class="dropdown">
                <a id="Jeux" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Jeux <span class="caret"></span></a>
                <ul class="dropdown-menu" role="menu">
                  <li class="dropdown-header">Jeux de rôles</i></li>
                  <li><a href="../jeux/systeme_rpg_un.html">Essai de système</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Livres dont VOUS êtes le héros</li>
                  <li><a href="../jeux/compagnon_talisman.html">Le Compagnon du Talisman</a></li>
                  <li><a href="../jeux/compagnon_sorcier.html">Le Compagnon du Sorcier</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Jeux vidéo</li>
                  <li><a href="../jeux/rts.html">Les enfants de Dune : les RTS</a></li>
                  <li><a href="../jeux/raycasting.html">Le raycasting : la 2.5D</a></li>
                  <li><a href="../jeux/play_rts.html">Jouer à mon RTS</a></li>
                  <li><a href="../jeux/play_fps.html">Jouer à mon FPS</a></li>
                  <li><a href="../data/outil_collections.html#jv">Jeux vidéo favoris</a></li>
                </ul>
              </li>
              <li class="dropdown">
                <a id="Autres" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Autres <span class="caret"></span></a>
                <ul class="dropdown-menu" role="menu">
                  <li class="dropdown-header">Musique</li>
                  <li><a href="../concerts_classiques/index.html">Concerts classiques</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Collections</li>
                  <li><a href="../data/outil_collections.html#prenoms">Prénoms</a></li>
                  <li><a href="../data/outil_collections.html#livres">Livres lus</a></li>
                  <li><a href="../data/outil_collections.html#favoris_artistiques">Favoris artistiques</a></li>
                  <li><a href="../liens.html">Liens</a></li>
                </ul>
              </li>
            </ul>
          </div><!--/.nav-collapse -->
        </div><!--/.container-fluid -->
      </nav>

      <div id="pageContent">
        <form>
          <table>
            <tr>
              <td>
                <img id="pic" src="">
              </td>
              <td align="center"><input id="answer" size="50" placeholder="Entrer un mot ici anglais sans article et sans majuscule"/>
                <br>
                <br>
                <button onclick="test(); return false;"/>Vérifier</button>
              </td>
            </tr>
          </table>
        </form>
      </div>
    </div>
  </body>
</html>
