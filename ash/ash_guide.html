<!DOCTYPE HTML>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Ash</title>
  <link rel="icon" href="https://xitog.github.io/dgx/img/favicon.ico" type="image/x-icon" />
  <link rel="shortcut icon" href="https://xitog.github.io/dgx/img/favicon.ico" type="image/x-icon" />
  <link href="https://xitog.github.io/dgx/css/simplex.bootstrap.css" rel="stylesheet">
  <link href="https://xitog.github.io/dgx/css/palatino.css" rel="stylesheet">
  <style type="text/css">
    details { border: 1px solid #5bc0de; cursor: pointer; margin-bottom: 0.5em; background-color: #F9F9F9;}
    summary { color: #F9F9F9; background-color: #5bc0de;}
    details summary:before { content: "+"; margin-right: 6px;}
    details[open] summary:before { content: "-"; margin-right: 6px;}
    details div { padding: 5px; }
  </style>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
</head>
<body>
<div id="main" class="container">
      <nav class="navbar navbar-default" role="navigation">
        <div class="container-fluid">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
             <a class="navbar-brand" href="#">Menu</a>
          </div>
          <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
              <li id="Accueil"><a href="https://xitog.github.io/dgx/index.html">Accueil</a></li>
              <li id="Blog"><a href="https://xitog.github.io/dgx/blog.html">Blog</a></li>
              <li class="dropdown">
                <a id="Langues" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Langues <span class="caret"></span></a>
                <ul class="dropdown-menu" role="menu">
                <li class="dropdown-header">Français</li>
                  <li><a href="https://xitog.github.io/dgx/francais/fiche_api_fr.html">Fiche sur les phonèmes du français</a></li>
                  <li><a href="https://xitog.github.io/dgx/francais/outil_stats_fr.html">Outil d'analyse textuelle</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Italien</li>
                  <li><a href="https://xitog.github.io/dgx/italien/beatrice.html">Beatrice : grammaire</a></li>
                  <li><a href="https://xitog.github.io/dgx/italien/jeu_conjugaison.html">Jeu sur la conjugaison</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Anglais</li>
                  <li><a href="https://xitog.github.io/dgx/anglais/jeu_vocabulaire.html">Jeu sur le vocabulaire</a></li>
                  <li><a href="https://xitog.github.io/dgx/anglais/verbes.html">Verbes fréquents</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Interlingua</li>
                  <li><a href="https://xitog.github.io/dgx/interlingua/conjugueur.html">Conjugueur</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Linguistique</li>
                  <li><a href="https://xitog.github.io/dgx/linguistique/informations.html">Informations générales</a></li>
                </ul>
              </li>
              <li class="dropdown">
                <a id="Informatique" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Informatique <span class="caret"></span></a>
                <ul class="dropdown-menu" role="menu">
                  <li class="dropdown-header">Projets</li>
                  <li><a href="https://xitog.github.io/dgx/ash/index.html">Ash</a></li>
                  <li><a href="https://xitog.github.io/dgx/hamill/index.html">Hamill</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Programmation</li>
                  <li><a href="https://xitog.github.io/dgx/informatique/syntaxes.html">Syntaxes comparées</a></li>
                  <li><a href="https://xitog.github.io/dgx/informatique/python.html">Aide-mémoire Python</a></li>
                  <li><a href="https://xitog.github.io/dgx/informatique/ruby.html">Aide-mémoire Ruby</a></li>
                  <li><a href="https://xitog.github.io/dgx/informatique/lua.html">Aide-mémoire Lua</a></li>
                  <li><a href="https://xitog.github.io/dgx/informatique/ruby_guide.html">Guide Ruby</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Modélisation</li>
                  <li><a href="https://xitog.github.io/dgx/informatique/bnf.html">Aide-mémoire BNF et EBNF</a></li>
                  <li><a href="https://xitog.github.io/dgx/informatique/json.html">Aide-mémoire JSON</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Autres</li>
                  <li><a href="https://xitog.github.io/dgx/informatique/version_control.html">Gestion de versions</a></li>
                  <li><a href="https://xitog.github.io/dgx/informatique/tools_langs.html">Logiciels utiles et autres langages</a></li>
                </ul>
              </li>
              <li class="dropdown">
                <a id="Histoire" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Histoire <span class="caret"></span></a>
                <ul class="dropdown-menu" role="menu">
                  <li class="dropdown-header">Méthode</li>
                  <li><a href="https://xitog.github.io/dgx/histoire/methode.html">Généralités</a></li>
                  <li><a href="https://xitog.github.io/dgx/histoire/bibliographie.html">Bibliographie</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Aide-mémoires</li>
                  <li><a href="https://xitog.github.io/dgx/histoire/france19eme.html">France au XIX<sup>e</sup></a></li>
                </ul>
              </li>
              <li class="dropdown">
                <a id="Jeux" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Passe-temps <span class="caret"></span></a>
                <ul class="dropdown-menu" role="menu">
                  <li class="dropdown-header">Projets</li>
                  <li><a href="https://xitog.github.io/dgx/teddy/index.html">Éditeur de carte</a></li>
                  <li><a href="https://xitog.github.io/dgx/rts/index.html">Jouer à mon RTS</a></li>
                  <li><a href="https://xitog.github.io/dgx/passetemps/project_fps.html">Jouer à mon FPS</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Présentations générales</li>
                  <li><a href="https://xitog.github.io/dgx/passetemps/pres_jeux.html">Les jeux</a></li>
                  <li><a href="https://xitog.github.io/dgx/passetemps/pres_jeuxvideo.html">Les jeux vidéo</a></li>
                  <li><a href="https://xitog.github.io/dgx/passetemps/pres_favoris.html">Favoris artistiques</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Jeux de rôles</li>
                  <li><a href="https://xitog.github.io/dgx/passetemps/systemes_rpg.html">Systèmes des RPG</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Livres-jeux</li>
                  <li><a href="https://xitog.github.io/dgx/passetemps/compagnon_talisman.html">Le Compagnon du Talisman</a></li>
                  <li><a href="https://xitog.github.io/dgx/passetemps/compagnon_sorcier.html">Le Compagnon du Sorcier</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Histoire des jeux vidéo</li>
                  <li><a href="https://xitog.github.io/dgx/passetemps/history_rts.html">Les enfants de Dune : les RTS</a></li>
                  <li><a href="https://xitog.github.io/dgx/passetemps/history_fps.html">Les enfants de Doom : les FPS</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Techniques des jeux vidéo</li>
                  <li><a href="https://xitog.github.io/dgx/passetemps/tech_raycasting_fr.html">Le raycasting : la 2.5D</a></li>
                  <li><a href="https://xitog.github.io/dgx/passetemps/tech_transitions.html">Cartes et transitions</a></li>
                  <li><a href="https://xitog.github.io/dgx/passetemps/tech_dialogues.html">Dialogues</a></li>
                </ul>
              </li>
              <li class="dropdown">
                <a id="Autres" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Autres <span class="caret"></span></a>
                <ul class="dropdown-menu" role="menu">
                  <li class="dropdown-header">Applications</li>
                  <li><a href="https://xitog.github.io/dgx/concerts_classiques/index.html">Concerts classiques</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Collections</li>
                  <li><a href="https://xitog.github.io/dgx/data/outil_collections.html#prenoms">Prénoms</a></li>
                  <li class="divider"></li>
                  <li class="dropdown-header">Liens</li>
                  <li><a href="https://xitog.github.io/dgx/plan.html">Plan du site</a></li>
                  <li><a href="https://xitog.github.io/dgx/liens.html">Liste de liens</a></li>
                </ul>
              </li>
            </ul>
          </div><!--/.nav-collapse -->
        </div><!--/.container-fluid -->
      </nav>

<div class="jumbotron">
<h1 id="ash">Ash</h1>
<hr>
<p>Un langage de script simple et concis avec support pour l'orienté objet.</p>
</div>
<div id="content-div">
<h2 id="sommaire">Sommaire</h2>
<ul>
  <li>Introduction</li>
  <li><a href="#1.-noyau-du-langage">1. Noyau du langage</a>
    <ul>
      <li><a href="#1.1-installation">1.1 Installation</a></li>
      <li><a href="#1.2-identifiants,-valeurs-et-littéraux">1.2 Identifiants, valeurs et littéraux</a></li>
      <li><a href="#1.3-instructions-et-expressions">1.3 Instructions et expressions</a></li>
      <li><a href="#1.4-mots-clés">1.4 Mots-clés</a></li>
      <li><a href="#1.5-constantes-et-variables">1.5 Constantes et variables</a></li>
      <li><a href="#1.6-types-et-opérateurs">1.6 Types et opérateurs</a></li>
      <li><a href="#1.7-un-programme-plus-complexe">1.7 Un programme plus complexe</a></li>
      <li><a href="#1.8-commentaires">1.8 Commentaires</a></li>
    </ul>
  </li>
  <li><a href="#2.-types-de-base-et-leurs-opérateurs">2. Types de base et leurs opérateurs</a>
    <ul>
      <li>Booléen</li>
      <li>Entier et réel</li>
      <li>Chaîne</li>
      <li>Liste</li>
      <li>Dictionnaire</li>
    </ul>
  </li>
  <li><a href="#3.-instructions-/-contrôle-du-flux">3. Instructions / Contrôle du flux</a>
    <ul>
      <li>Séquence</li>
      <li>Sélection</li>
      <li>Boucle</li>
    </ul>
  </li>
  <li><a href="#4.-sous-programmes">4. Sous-programmes</a>
    <ul>
      <li>Fonctions</li>
      <li>Procédures</li>
      <li>Getters</li>
    </ul>
  </li>
  <li><a href="#5.-classes-et-objets">5. Classes et objets</a></li>
  <li><a href="#6.-gestion-des-erreurs">6. Gestion des erreurs</a></li>
  <li><a href="#7.-modules">7. Modules</a></li>
  <li><a href="#8.-bibliothèque-standard">8. Bibliothèque standard</a>
    <ul>
      <li><a href="#8.1-noyau">8.1 Noyau</a></li>
      <li><a href="#8.2-console">8.2 Console</a></li>
      <li><a href="#8.3-fichiers">8.3 Fichiers</a></li>
      <li><a href="#8.4-système-d'exploitation">8.4 Système d'exploitation</a></li>
    </ul>
  </li>
  <li><a href="#9.-implémentations-et-interfaces">9. Implémentations et interfaces</a>
    <ul>
      <li><a href="#9.1-ash/python">9.1 Ash/Python</a></li>
      <li><a href="#9.2-ash/javascript">9.2 Ash/JavaScript</a></li>
      <li><a href="#9.3-ash/c">9.3 Ash/C</a></li>
      <li><a href="#9.4-ash/php">9.4 Ash/PHP</a></li>
      <li><a href="#9.5-ash/lua">9.5 Ash/Lua</a></li>
    </ul>
  </li>
  <li><a href="#10.-liste-des-éléments-du-langage">10. Liste des éléments du langage</a></li>
  <li><a href="#11.-eléments-de-style">11. Eléments de style</a></li>
</ul>
<h2 id="introduction">Introduction</h2>
<p>Ce document décrit le langage de script <b>Ash</b>. Il se veut simple et concis.</p>
<p>Vous trouverez dans ce document une présentation de ses fonctionnalités ainsi que des encarts expliquants les choix de design qui ont été fait. En effet, je pense que pour mieux comprendre un artefact généré par l'homme, qui résulte d'un ensemble de décisions, il vaut mieux savoir les raisons derrière celles-ci. On évoquera ainsi ce qui a été écarté et ce qui est envisagé comme évolution possible.</p>
<p>Ash se veut toutefois un langage assez stable, en réaction à à la complexification et à l'accélération des différents langages de programmation qui se mettent à changer tous les ans, même les plus anciens, en ajoutant à chaque fois plus de fonctionnalités, de syntaxes, de façons différentes de faire la même chose. Toutefois, étant l'&oelig;uvre d'une seule personne, il se peut que je n'implémente pas tout ce que je voulais, d'où les évolutions possibles mentionnées.</p>
<h2 id="1.-noyau-du-langage">1. Noyau du langage</h2>
<h3 id="1.1-installation">1.1 Installation</h3>
<p>Pour lancer coder avec Ash, il existe trois façons :</p>
<ul>
  <li>Via l'interpréteur interactif en lançant ash.exe sans argument. La forme générale est ash.exe [arguments] [script] [arguments du script]. L'invite de commande &gt;&gt;&gt; apparaît et on peut directement écrire à la suite des instructions et des expressions qui seront immédiatement évaluées. Il faut taper exit pour sortir de l'interpréteur. Si voulez exécuter un script depuis l'interpréteur, il faut employer la fonction exec('chemin du script') qui exécutera le script dans l'espace de noms actuels. Pour exécuter directement une ligne utiliser l'option -e puis entre guillemets le code.</li>
</ul>
<p>ash.exe</p>
<ul>
  <li>Via l'exécution d'un script, stocké dans un fichier .ash (ex : pipo.ash). On lance ash.exe en passant le chemin vers le ficher en paramètre. Si vous voulez utilise l'interpréteur à la suite de cette exécution, il faut utiliser l'option i. On peut passer des arguments au script après celui-ci.</li>
</ul>
<p>ash.exe pipo.ash<br>
ash.ex -i pipo.ash</p>
<ul>
  <li>Via l'exécution d'un script, stocké dans un fichier .ash, qu'on transpile en Python à l'aide de ash.exe. On exécute ensuite le script Python produit à l'aide de l'interpréteur Python.</li>
</ul>
<pre>
 ash.exe -transpy pipo.ash
 python pipo.py
</pre>
<p>Les arguments sont stockés dans une liste. 0 est le nom du script. En nég, les options préalables. En pos, les options du script.</p>
<details><summary>Note de design</summary>
<div>
<p><i>Ces encadrés exposent des décisions de design.</i></p>
<p>La syntaxe de Ash s'inspire des langages <i>Lua</i>, <i>Ruby</i> et <i>Pascal</i>.<br>
Les langages <i>JavaScript</i> et <i>Python</i> sont également des inspirations pour leur fonctionnement et leur bibliothèque de base.</p>
</div>
</details>
<h3 id="1.2-identifiants,-valeurs-et-littéraux">1.2 Identifiants, valeurs et littéraux</h3>
<p>Comme premier programme lorsque l'on apprend un langage de programmation, la tradition veut qu'on affiche "Bonjour le monde !" sur la sortie standard. Pour cela, il faut lancer l'interpréteur interactif ash.exe puis taper :</p>
<pre>
 <span class="ash-special" title="token n°1 : special">writeln</span><span class="ash-separator" title="token n°2 : separator">(</span><span class="ash-string" title="token n°3 : string">"Hello World!"</span><span class="ash-separator" title="token n°4 : separator">)</span><span class="ash-newline" title="token n°5 : newline">
</span></pre>
<p>Vous venez d'appeler une <b>fonction</b>, nommée writeln, avec un paramètre, la chaîne de caractère "Hello World!". En exécutant ce code, la chaîne sera affichée sur la sortie standard.</p>
<p>Ash est un langage de script qui fonctionne avec des <b>identifiants</b> et des <b>valeurs</b>. Un identifiant référence une valeur. Une valeur est exprimée directement dans un code source par un <b>littéral</b>. Pour déclarer un nouvel identifiant et la valeur qu'il référence, on utilise l'<b>opérateur</b> <code><span class="ash-operator" title="token n°0 : operator">=</span></code> en mettant à gauche l'identifiant et à droite la valeur :</p>
<pre>
<span class="ash-identifier" title="token n°0 : identifier">a</span> <span class="ash-operator" title="token n°2 : operator">=</span> <span class="ash-number" title="token n°4 : number">5</span><span class="ash-newline" title="token n°5 : newline">
</span></pre>
<p>Ici <code><span class="ash-identifier" title="token n°0 : identifier">a</span></code> est l'identifiant et <code><span class="ash-number" title="token n°0 : number">5</span></code> le littéral qui désigne l'entier 5. De même, la chaîne "Hello World!" est un littéral de type chaîne de caractères. Un littéral est une constante, il n'est <b>pas modifiable</b>, qui possède un <b>type</b>. <b>Un littéral ne peut jamais apparaître à gauche de l'opérateur <code><span class="ash-operator" title="token n°0 : operator">=</span></code>.</b></p>
<p>Plusieurs identifiants peuvent référencer la même valeur, dans le code ci-dessous les identifiants <code><span class="ash-identifier" title="token n°0 : identifier">a</span></code>, <code><span class="ash-identifier" title="token n°0 : identifier">b</span></code> et <code><span class="ash-identifier" title="token n°0 : identifier">c</span></code> référencent la même valeur :</p>
<pre>
<span class="ash-identifier" title="token n°0 : identifier">a</span> <span class="ash-operator" title="token n°2 : operator">=</span> <span class="ash-number" title="token n°4 : number">5</span><span class="ash-newline" title="token n°5 : newline">
</span><span class="ash-identifier" title="token n°6 : identifier">b</span> <span class="ash-operator" title="token n°8 : operator">=</span> <span class="ash-number" title="token n°10 : number">5</span><span class="ash-newline" title="token n°11 : newline">
</span><span class="ash-identifier" title="token n°12 : identifier">c</span> <span class="ash-operator" title="token n°14 : operator">=</span> <span class="ash-identifier" title="token n°16 : identifier">b</span> <span class="ash-comment" title="token n°18 : comment">-- équivalent à c = a</span><span class="ash-newline" title="token n°19 : newline">
</span></pre>
<p>Un identifiant peut, au cours d'un programme, référencer différentes valeurs mais à un instant donné il n'en référencera toujours qu'une :</p>
<pre>
<span class="ash-identifier" title="token n°0 : identifier">a</span> <span class="ash-operator" title="token n°2 : operator">=</span> <span class="ash-number" title="token n°4 : number">5</span><span class="ash-newline" title="token n°5 : newline">
</span><span class="ash-identifier" title="token n°6 : identifier">a</span> <span class="ash-operator" title="token n°8 : operator">=</span> <span class="ash-string" title="token n°10 : string">"Hello World"</span><span class="ash-newline" title="token n°11 : newline">
</span></pre>
<p>Ash fait la différence entre les minuscules et les majuscules, il est sensible à la casse, ainsi <code><span class="ash-identifier" title="token n°0 : identifier">a</span></code> et <code><span class="ash-identifier" title="token n°0 : identifier">A</span></code> ne sont pas les mêmes identifiants.</p>
<p>Un identifiant peut être associé à un type lors de sa déclaration (= la première qu'on l'utilise). Dans ce cas, il ne pourra référencer que des valeurs de ce type. Pour cela on utilise l'opérateur <code><span class="ash-separator" title="token n°0 : separator">:</span></code> suivi du type :</p>
<pre>
<span class="ash-identifier" title="token n°0 : identifier">a</span> <span class="ash-separator" title="token n°2 : separator">:</span> <span class="ash-identifier" title="token n°4 : identifier">int</span> <span class="ash-operator" title="token n°6 : operator">=</span> <span class="ash-number" title="token n°8 : number">5</span><span class="ash-newline" title="token n°9 : newline">
</span><span class="ash-identifier" title="token n°10 : identifier">a</span> <span class="ash-operator" title="token n°12 : operator">=</span> <span class="ash-number" title="token n°14 : number">8</span> <span class="ash-comment" title="token n°16 : comment">-- ok 8 est de type int</span><span class="ash-newline" title="token n°17 : newline">
</span><span class="ash-identifier" title="token n°18 : identifier">a</span> <span class="ash-operator" title="token n°20 : operator">=</span> <span class="ash-string" title="token n°22 : string">"Hello World"</span> <span class="ash-comment" title="token n°24 : comment">-- déclenchera une erreur</span><span class="ash-newline" title="token n°25 : newline">
</span></pre>
<p>On peut obliger un identfiant à ne référencer qu'une seule valeur et ne pas pouvoir en changer lors de sa déclaration. Pour cela, on utilise le mot-clé <code><span class="ash-keyword" title="token n°0 : keyword">const</span></code>.</p>
<pre>
<span class="ash-keyword" title="token n°0 : keyword">const</span> <span class="ash-identifier" title="token n°2 : identifier">a</span> <span class="ash-separator" title="token n°4 : separator">:</span> <span class="ash-identifier" title="token n°6 : identifier">int</span> <span class="ash-operator" title="token n°8 : operator">=</span> <span class="ash-number" title="token n°10 : number">5</span> <span class="ash-comment" title="token n°12 : comment">-- on peut mettre le type</span><span class="ash-newline" title="token n°13 : newline">
</span><span class="ash-keyword" title="token n°14 : keyword">const</span> <span class="ash-identifier" title="token n°16 : identifier">b</span> <span class="ash-operator" title="token n°18 : operator">=</span> <span class="ash-number" title="token n°20 : number">6</span> <span class="ash-comment" title="token n°22 : comment">-- mais sinon il sera déduit du type de l'expression à droite du =</span><span class="ash-newline" title="token n°23 : newline">
</span><span class="ash-identifier" title="token n°24 : identifier">a</span> <span class="ash-operator" title="token n°26 : operator">=</span> <span class="ash-number" title="token n°28 : number">22</span> <span class="ash-comment" title="token n°30 : comment">-- erreur</span><span class="ash-newline" title="token n°31 : newline">
</span><span class="ash-identifier" title="token n°32 : identifier">b</span> <span class="ash-operator" title="token n°34 : operator">=</span> <span class="ash-string" title="token n°36 : string">"abc"</span> <span class="ash-comment" title="token n°38 : comment">-- erreur</span><span class="ash-newline" title="token n°39 : newline">
</span></pre>
<p>Enfin, on peut déclarer un identifiant qui ne référence aucune valeur avec le mot-clé <code><span class="ash-nil" title="token n°0 : nil">nil</span></code> :</p>
<pre>
<span class="ash-identifier" title="token n°0 : identifier">i</span> <span class="ash-operator" title="token n°2 : operator">=</span> <span class="ash-nil" title="token n°4 : nil">nil</span><span class="ash-newline" title="token n°5 : newline">
</span></pre>
<p><b>On ne peut jamais utiliser un identifiant avant qu'il ne soit défini.</b></p>
<h3 id="1.3-instructions-et-expressions">1.3 Instructions et expressions</h3>
<p>Un programme Ash est composé d'<b>instructions</b> et d'<b>expressions</b>.</p>
<p>Seules les expressions peuvent être évalués : 2 + 3 est une expression qui peut être évaluée à l'entier 5.</p>
<p>Un <b>bloc</b> est un ensemble composée d'instructions et/ou d'expressions. Un bloc n'est pas évaluable.</p>
<p>Exemple de l'instruction <code><span class="ash-keyword" title="token n°0 : keyword">while</span></code> :</p>
<pre>
 <span class="ash-keyword" title="token n°1 : keyword">while</span> <span class="ash-identifier" title="token n°3 : identifier">expression</span> <span class="ash-keyword" title="token n°5 : keyword">do</span><span class="ash-newline" title="token n°6 : newline">
</span>     <span class="ash-identifier" title="token n°8 : identifier">bloc</span><span class="ash-newline" title="token n°9 : newline">
</span> <span class="ash-keyword" title="token n°11 : keyword">loop</span><span class="ash-newline" title="token n°12 : newline">
</span></pre>
<p>Cette instruction exécutera le bloc tant que l'expression entre le <code><span class="ash-keyword" title="token n°0 : keyword">while</span></code> et le <code><span class="ash-keyword" title="token n°0 : keyword">do</span></code> sera vraie.</p>
<p>Une instruction utilise des <b>mots-clés</b> : ici, <code><span class="ash-keyword" title="token n°0 : keyword">while</span></code>, <code><span class="ash-keyword" title="token n°0 : keyword">do</span></code> et <code><span class="ash-keyword" title="token n°0 : keyword">loop</span></code>.</p>
<h3 id="1.4-mots-clés">1.4 Mots-clés</h3>
<p>Ash utilise 27 mots-clés.</p>
<table>
<tr><td> var    </td><td> const   </td><td>        </td><td>      </td><td>     </td></tr>
<tr><td> if     </td><td> then    </td><td> elsif  </td><td> else </td><td> end </td></tr>
<tr><td> while  </td><td> do      </td><td> loop   </td><td> for  </td><td> in  </td></tr>
<tr><td> break  </td><td> next    </td><td>        </td><td>      </td><td>     </td></tr>
<tr><td> fun    </td><td> pro     </td><td> return </td><td>      </td><td>     </td></tr>
<tr><td> and    </td><td> or      </td><td> not    </td><td>      </td><td>     </td></tr>
<tr><td> class  </td><td> static  </td><td> is     </td><td>      </td><td>     </td></tr>
<tr><td> import </td><td>         </td><td>        </td><td>      </td><td>     </td></tr>
<tr><td> true   </td><td> false   </td><td> nil    </td><td>      </td><td>     </td></tr>
</table>
<h3 id="1.5-constantes-et-variables">1.5 Constantes et variables</h3>
<p>Pour déclarer une variable, il faut utiliser cette syntaxe :</p>
<pre>
<span class="ash-separator" title="token n°0 : separator">[</span><span class="ash-keyword" title="token n°1 : keyword">var</span><span class="ash-separator" title="token n°2 : separator">]</span> <span class="ash-identifier" title="token n°4 : identifier">ID</span> <span class="ash-separator" title="token n°6 : separator">[</span><span class="ash-separator" title="token n°7 : separator">:</span> <span class="ash-identifier" title="token n°9 : identifier">TYPE</span><span class="ash-separator" title="token n°10 : separator">]</span> <span class="ash-operator" title="token n°12 : operator">=</span> <span class="ash-identifier" title="token n°14 : identifier">EXPR</span><span class="ash-newline" title="token n°15 : newline">
</span></pre>
<p>Il est recommandé de commencer une variable par une minuscule et d'utiliser un "_" pour séparer les mots.</p>
<pre>
<span class="ash-keyword" title="token n°0 : keyword">var</span> <span class="ash-identifier" title="token n°2 : identifier">age_personne</span> <span class="ash-separator" title="token n°4 : separator">:</span> <span class="ash-identifier" title="token n°6 : identifier">nat</span> <span class="ash-operator" title="token n°8 : operator">=</span> <span class="ash-number" title="token n°10 : number">25</span><span class="ash-newline" title="token n°11 : newline">
</span></pre>
<p>Pour déclarer une constante de référence, il faut utiliser cette syntaxe :</p>
<pre>
<span class="ash-keyword" title="token n°0 : keyword">const</span> <span class="ash-identifier" title="token n°2 : identifier">ID</span> <span class="ash-separator" title="token n°4 : separator">[</span><span class="ash-separator" title="token n°5 : separator">:</span> <span class="ash-identifier" title="token n°7 : identifier">TYPE</span><span class="ash-separator" title="token n°8 : separator">]</span>  <span class="ash-operator" title="token n°10 : operator">=</span> <span class="ash-identifier" title="token n°12 : identifier">EXPR</span><span class="ash-newline" title="token n°13 : newline">
</span></pre>
<p>Cela indique que l'identifiant <code><span class="ash-identifier" title="token n°0 : identifier">ID</span></code> référencera <b>toujours</b> la valeur donnée par <code><span class="ash-identifier" title="token n°0 : identifier">EXPR</span></code>. Toutefois, cette valeur peut-être elle-même constante (comme le littéral <code><span class="ash-number" title="token n°0 : number">5</span></code>) ou modifiable.</p>
<p>Il est recommandé d'écrire les constantes en majuscule.</p>
<pre>
<span class="ash-keyword" title="token n°0 : keyword">const</span> <span class="ash-identifier" title="token n°2 : identifier">PI</span> <span class="ash-separator" title="token n°4 : separator">:</span> <span class="ash-identifier" title="token n°6 : identifier">num</span> <span class="ash-operator" title="token n°8 : operator">=</span> <span class="ash-number" title="token n°10 : number">3.14</span><span class="ash-newline" title="token n°11 : newline">
</span></pre>
<p>nom de variable : (_A-Za-z)(0-9A-Za-z)</p>
<p>_ is for dummy variable or the last expression. utf-8 variable are supported.</p>
<p>following word are reserved because they are keyword.</p>
<pre>
<span class="text-normal" title="token n°0 : normal">defined?(tst)</span> <span class="text-normal" title="token n°2 : normal">--&gt;</span> <span class="text-normal" title="token n°4 : normal">nil</span><span class="text-newline" title="token n°5 : newline">
</span><span class="text-normal" title="token n°6 : normal">tst</span> <span class="text-normal" title="token n°8 : normal">=</span> <span class="text-normal" title="token n°10 : normal">nil</span> <span class="text-normal" title="token n°12 : normal">--&gt;</span> <span class="text-normal" title="token n°14 : normal">variable</span> <span class="text-normal" title="token n°16 : normal">defined</span> <span class="text-normal" title="token n°18 : normal">with</span> <span class="text-normal" title="token n°20 : normal">value</span><span class="text-newline" title="token n°21 : newline">
</span><span class="text-normal" title="token n°22 : normal">if</span> <span class="text-normal" title="token n°24 : normal">tst</span> <span class="text-normal" title="token n°26 : normal">is</span> <span class="text-normal" title="token n°28 : normal">nil</span> <span class="text-normal" title="token n°30 : normal">then</span><span class="text-newline" title="token n°31 : newline">
</span>    <span class="text-normal" title="token n°33 : normal">writeln('tst</span> <span class="text-normal" title="token n°35 : normal">is</span> <span class="text-normal" title="token n°37 : normal">nil')</span><span class="text-newline" title="token n°38 : newline">
</span><span class="text-normal" title="token n°39 : normal">end</span><span class="text-newline" title="token n°40 : newline">
</span><span class="text-normal" title="token n°41 : normal">tst</span> <span class="text-normal" title="token n°43 : normal">=</span> <span class="text-normal" title="token n°45 : normal">22</span><span class="text-newline" title="token n°46 : newline">
</span><span class="text-normal" title="token n°47 : normal">writeln(tst)</span>  <span class="text-normal" title="token n°49 : normal">--&gt;</span> <span class="text-normal" title="token n°51 : normal">2</span><span class="text-newline" title="token n°52 : newline">
</span></pre>
<p>A variable is automatically cleaned after its containing scope is destroy (function or prog body).</p>
<h3 id="1.6-types-et-opérateurs">1.6 Types et opérateurs</h3>
<p>Une expression est forcément évaluable à une valeur avec un type :</p>
<pre>
<span class="ash-number" title="token n°0 : number">5</span> <span class="ash-operator" title="token n°2 : operator">+</span> <span class="ash-number" title="token n°4 : number">2</span><span class="ash-newline" title="token n°5 : newline">
</span></pre>
<p>Cette expression donne 7, de type nat pour les entiers naturels.</p>
<p>Une expression est composée d'opérateur et d'opérande.</p>
<p>Certains opérateurs sont binaires (= 2 opérandes) ou unaire (= 1 opérante).</p>
<p>Certains opérateurs s'appliquent à certains types de valeurs.</p>
<p><b>Il n'y a pas d'opérateur postfixe en Ash.</b></p>
<p>Une expression peut être composée de sous-expression :</p>
<pre>
<span class="ash-identifier" title="token n°0 : identifier">exp</span> <span class="ash-identifier" title="token n°2 : identifier">op</span> <span class="ash-identifier" title="token n°4 : identifier">exp</span><span class="ash-newline" title="token n°5 : newline">
</span><span class="ash-identifier" title="token n°6 : identifier">op</span> <span class="ash-identifier" title="token n°8 : identifier">exp</span><span class="ash-newline" title="token n°9 : newline">
</span></pre>
<p>Séparateurs d'expression : \n, ;</p>
<p>Liste des opérateurs :</p>
<table>
<tr><th> Priorité </th><th> Opérateurs                     </th><th> Description                                       </th></tr>
<tr><td> 1        </td><td> &gt;                              </td><td> extraction d'import, type de retour des fonctions </td></tr>
<tr><td> 1        </td><td> &lt;                              </td><td> héritage                                          </td></tr>
<tr><td> 1        </td><td> =                              </td><td> affectation                                       </td></tr>
<tr><td> 7        </td><td> +=, -=, *=, **=, /=, //=, %= </td><td> affectation combinée                              </td></tr>
<tr><td> 7        </td><td> +, -, *, **, /, //, %        </td><td> mathématiques                                     </td></tr>
<tr><td> 1        </td><td> .                              </td><td> call                                              </td></tr>
<tr><td> 6        </td><td> &Equal;, &NotEqual;, &gt;, &GreaterSlantEqual;, &LessSlantEqual;, &lt;           </td><td> comparaison                                       </td></tr>
<tr><td> 3        </td><td> and or not                     </td><td> booléen                                           </td></tr>
<tr><td> 2        </td><td> &lt;&lt; &gt;&gt;                          </td><td> binaire                                           </td></tr>
<tr><td>          </td><td> #                              </td><td> longueur d'une séquence                           </td></tr>
<tr><td>          </td><td> $                              </td><td> conversion en chaînes de caractères               </td></tr>
<tr><td>          </td><td> ${x}                           </td><td> interpolation dans les chaînes de caractères      </td></tr>
</table>
<h3 id="1.7-un-programme-plus-complexe">1.7 Un programme plus complexe</h3>
<p>Une autre tradition est le calcul d'une factorielle. Ouvrez un fichier texte, enregistrez-le sous le nom de fact.ash puis tapez dedans :</p>
<pre>
<span class="text-normal" title="token n°0 : normal">--</span> <span class="text-normal" title="token n°2 : normal">fonction</span> <span class="text-normal" title="token n°4 : normal">factorielle</span> <span class="text-normal" title="token n°6 : normal">récursive</span><span class="text-newline" title="token n°7 : newline">
</span><span class="text-normal" title="token n°8 : normal">fun</span> <span class="text-normal" title="token n°10 : normal">fact(nb</span> <span class="text-normal" title="token n°12 : normal">:</span> <span class="text-normal" title="token n°14 : normal">int)</span><span class="text-newline" title="token n°15 : newline">
</span>    <span class="text-normal" title="token n°17 : normal">if</span> <span class="text-normal" title="token n°19 : normal">nb</span> <span class="text-normal" title="token n°21 : normal">==</span> <span class="text-normal" title="token n°23 : normal">0</span> <span class="text-normal" title="token n°25 : normal">then</span><span class="text-newline" title="token n°26 : newline">
</span>        <span class="text-normal" title="token n°28 : normal">return</span> <span class="text-normal" title="token n°30 : normal">1</span><span class="text-newline" title="token n°31 : newline">
</span>    <span class="text-normal" title="token n°33 : normal">elsif</span> <span class="text-normal" title="token n°35 : normal">nb</span> <span class="text-normal" title="token n°37 : normal">&gt;</span> <span class="text-normal" title="token n°39 : normal">0</span> <span class="text-normal" title="token n°41 : normal">then</span><span class="text-newline" title="token n°42 : newline">
</span>        <span class="text-normal" title="token n°44 : normal">return</span> <span class="text-normal" title="token n°46 : normal">nb</span> <span class="text-normal" title="token n°48 : normal">*</span> <span class="text-normal" title="token n°50 : normal">fact(nb</span> <span class="text-normal" title="token n°52 : normal">-</span> <span class="text-normal" title="token n°54 : normal">1)</span><span class="text-newline" title="token n°55 : newline">
</span>    <span class="text-normal" title="token n°57 : normal">else</span><span class="text-newline" title="token n°58 : newline">
</span>        <span class="text-normal" title="token n°60 : normal">return</span> <span class="text-normal" title="token n°62 : normal">Exception("Invalid</span> <span class="text-normal" title="token n°64 : normal">number")</span><span class="text-newline" title="token n°65 : newline">
</span>    <span class="text-normal" title="token n°67 : normal">end</span><span class="text-newline" title="token n°68 : newline">
</span><span class="text-normal" title="token n°69 : normal">end</span><span class="text-newline" title="token n°70 : newline">
</span><span class="text-normal" title="token n°71 : normal">nb</span> <span class="text-normal" title="token n°73 : normal">=</span> <span class="text-normal" title="token n°75 : normal">input('enter</span> <span class="text-normal" title="token n°77 : normal">a</span> <span class="text-normal" title="token n°79 : normal">number:')</span><span class="text-newline" title="token n°80 : newline">
</span><span class="text-normal" title="token n°81 : normal">writeln(fact(nb))</span><span class="text-newline" title="token n°82 : newline">
</span></pre>
<h3 id="1.8-commentaires">1.8 Commentaires</h3>
<p>Les commentaires monolignes commençent par <code><span class="ash-comment" title="token n°0 : comment">--</span></code> (comme Lua et SQL) et s'étendent jusqu'à la fin de la ligne.</p>
<p>Les commentaires multilignes commençent par <code><span class="ash-comment" title="token n°0 : comment">--[[</span></code> et finissent par <code><span class="ash-comment" title="token n°0 : comment">--]]</span></code> (comme Lua)</p>
<details><summary>Note de design</summary>
<div>
<p>Cela permet de conserver <code><span class="ash-operator" title="token n°0 : operator">//</span></code> (C, JavaScript) et <code><span class="ash-operator" title="token n°0 : operator">#</span></code> (Ruby, Python) comme opérateurs de division entière et longueur respectivement.</p>
</div>
</details>
<pre>
<span class="text-normal" title="token n°0 : normal">--</span> <span class="text-normal" title="token n°2 : normal">comment</span><span class="text-newline" title="token n°3 : newline">
</span><span class="text-normal" title="token n°4 : normal">--[[</span> <span class="text-normal" title="token n°6 : normal">start</span> <span class="text-normal" title="token n°8 : normal">of</span> <span class="text-normal" title="token n°10 : normal">multi</span> <span class="text-normal" title="token n°12 : normal">line</span><span class="text-newline" title="token n°13 : newline">
</span><span class="text-normal" title="token n°14 : normal">]]</span> <span class="text-normal" title="token n°16 : normal">end</span> <span class="text-normal" title="token n°18 : normal">of</span> <span class="text-normal" title="token n°20 : normal">multi</span> <span class="text-normal" title="token n°22 : normal">line</span><span class="text-newline" title="token n°23 : newline">
</span></pre>
<h2 id="2.-types-de-base-et-leurs-opérateurs">2. Types de base et leurs opérateurs</h2>
<p>Ash utilise 9 types de données de base :</p>
<table>
<tr><th> Nom          </th><th> Type                   </th><th> Littéral           </th></tr>
<tr><td> Booléen      </td><td> Boolean, boolean, bool </td><td> true false         </td></tr>
<tr><td> Entier       </td><td> Integer, integer, int  </td><td> 25 -25 0b010 0xAB  </td></tr>
<tr><td> Naturel      </td><td> Natural, natural, nat  </td><td> 25                 </td></tr>
<tr><td> Nombre       </td><td> Number, number, num    </td><td> 2.5 -2.5           </td></tr>
<tr><td> Chaîne       </td><td> String, string, str    </td><td> "bonjour"          </td></tr>
<tr><td> Tableau      </td><td> Array, array           </td><td> {val1, val2, val3} </td></tr>
<tr><td> Liste        </td><td> List, list             </td><td> [val1, val2, val3] </td></tr>
<tr><td> Dictionnaire </td><td> Dict, dict             </td><td> {key: value}       </td></tr>
<tr><td> Valeur nulle </td><td> Nil, nil               </td><td> nil                </td></tr>
</table>
<h3 id="2.1-booléen">2.1 Booléen</h3>
<h3 id="2.2-entier-et-réel">2.2 Entier et réel</h3>
<h3 id="2.3-chaîne">2.3 Chaîne</h3>
<h3 id="2.4-liste">2.4 Liste</h3>
<table>
<tr><th> Signature                                        </th></tr>
<tr><td> pro flatten()                                    </td></tr>
<tr><td> pro pop, shift() : any                           </td></tr>
<tr><td> pro insert(index : int, value : any)             </td></tr>
<tr><td> pro add, append, push(value : any)               </td></tr>
<tr><td> get first : any                                  </td></tr>
<tr><td> get last : any                                   </td></tr>
<tr><td> fun find, index(value : any) : nat               </td></tr>
<tr><td> fun find_all(value : any) : [int]                </td></tr>
<tr><td> fun include?, has? contains?(value : any) : bool </td></tr>
<tr><td> get min : any                                    </td></tr>
<tr><td> get max : any                                    </td></tr>
<tr><td> get length, count, size : nat                    </td></tr>
<tr><td> pro sort()                                       </td></tr>
<tr><td> pro reverse()                                    </td></tr>
<tr><td> pro uniq()                                       </td></tr>
</table>
<h3 id="2.5-dictionnaire">2.5 Dictionnaire</h3>
<h2 id="3.-instructions-/-contrôle-du-flux">3. Instructions / Contrôle du flux</h2>
<h3 id="3.1-séquence">3.1 Séquence</h3>
<p>Un bloc est un ensemble d'instructions ou d'expressions. Les instructions et expressions sont séparées par des nouvelles lignes ou des points virgules.</p>
<pre>
<span class="text-normal" title="token n°0 : normal">a</span> <span class="text-normal" title="token n°2 : normal">=</span> <span class="text-normal" title="token n°4 : normal">1</span> <span class="text-normal" title="token n°6 : normal">+</span> <span class="text-normal" title="token n°8 : normal">4</span><span class="text-newline" title="token n°9 : newline">
</span><span class="text-normal" title="token n°10 : normal">2</span>              <span class="text-normal" title="token n°12 : normal">--</span> <span class="text-normal" title="token n°14 : normal">valide</span><span class="text-newline" title="token n°15 : newline">
</span><span class="text-normal" title="token n°16 : normal">a</span> <span class="text-normal" title="token n°18 : normal">=</span> <span class="text-normal" title="token n°20 : normal">1</span> <span class="text-normal" title="token n°22 : normal">+</span> <span class="text-normal" title="token n°24 : normal">4</span> <span class="text-normal" title="token n°26 : normal">;</span> <span class="text-normal" title="token n°28 : normal">2</span>  <span class="text-normal" title="token n°30 : normal">--</span> <span class="text-normal" title="token n°32 : normal">valide</span> <span class="text-normal" title="token n°34 : normal">(équivalent</span> <span class="text-normal" title="token n°36 : normal">aux</span> <span class="text-normal" title="token n°38 : normal">2</span> <span class="text-normal" title="token n°40 : normal">lignes</span> <span class="text-normal" title="token n°42 : normal">du</span> <span class="text-normal" title="token n°44 : normal">dessus)</span><span class="text-newline" title="token n°45 : newline">
</span><span class="text-normal" title="token n°46 : normal">a</span> <span class="text-normal" title="token n°48 : normal">=</span> <span class="text-normal" title="token n°50 : normal">1</span> <span class="text-normal" title="token n°52 : normal">+</span> <span class="text-normal" title="token n°54 : normal">4</span> <span class="text-normal" title="token n°56 : normal">2</span>    <span class="text-normal" title="token n°58 : normal">--</span> <span class="text-normal" title="token n°60 : normal">ceci</span> <span class="text-normal" title="token n°62 : normal">n'est</span> <span class="text-normal" title="token n°64 : normal">pas</span> <span class="text-normal" title="token n°66 : normal">valide</span> <span class="text-normal" title="token n°68 : normal">en</span> <span class="text-normal" title="token n°70 : normal">ash</span><span class="text-newline" title="token n°71 : newline">
</span></pre>
<h3 id="3.2-sélection">3.2 Sélection</h3>
<pre>
<span class="ash-keyword" title="token n°0 : keyword">if</span> <span class="ash-identifier" title="token n°2 : identifier">CONDITION</span> <span class="ash-keyword" title="token n°4 : keyword">then</span><span class="ash-newline" title="token n°5 : newline">
</span>    <span class="ash-identifier" title="token n°7 : identifier">ACTION</span><span class="ash-newline" title="token n°8 : newline">
</span><span class="ash-separator" title="token n°9 : separator">[</span><span class="ash-keyword" title="token n°10 : keyword">elsif</span> <span class="ash-identifier" title="token n°12 : identifier">CONDITION</span> <span class="ash-keyword" title="token n°14 : keyword">then</span><span class="ash-newline" title="token n°15 : newline">
</span>    <span class="ash-identifier" title="token n°17 : identifier">ACTION</span><span class="ash-separator" title="token n°18 : separator">]</span><span class="ash-operator" title="token n°19 : operator">*</span><span class="ash-newline" title="token n°20 : newline">
</span><span class="ash-separator" title="token n°21 : separator">[</span><span class="ash-keyword" title="token n°22 : keyword">else</span><span class="ash-newline" title="token n°23 : newline">
</span>    <span class="ash-identifier" title="token n°25 : identifier">ACTION</span><span class="ash-separator" title="token n°26 : separator">]</span><span class="ash-newline" title="token n°27 : newline">
</span><span class="ash-keyword" title="token n°28 : keyword">end</span><span class="ash-newline" title="token n°29 : newline">
</span></pre>
<h3 id="3.3-boucle">3.3 Boucle</h3>
<pre>
<span class="ash-keyword" title="token n°0 : keyword">while</span> <span class="ash-identifier" title="token n°2 : identifier">CONDITION</span> <span class="ash-keyword" title="token n°4 : keyword">do</span><span class="ash-newline" title="token n°5 : newline">
</span>    <span class="ash-identifier" title="token n°7 : identifier">ACTION</span><span class="ash-newline" title="token n°8 : newline">
</span><span class="ash-keyword" title="token n°9 : keyword">loop</span><span class="ash-newline" title="token n°10 : newline">
</span><span class="ash-newline" title="token n°11 : newline">
</span><span class="ash-keyword" title="token n°12 : keyword">for</span> <span class="ash-identifier" title="token n°14 : identifier">ID1</span><span class="ash-separator" title="token n°15 : separator">[</span><span class="ash-separator" title="token n°16 : separator">,</span> <span class="ash-identifier" title="token n°18 : identifier">ID2</span><span class="ash-separator" title="token n°19 : separator">]</span> <span class="ash-keyword" title="token n°21 : keyword">in</span> <span class="ash-identifier" title="token n°23 : identifier">ITERABLE</span> <span class="ash-separator" title="token n°25 : separator">[</span><span class="ash-keyword" title="token n°26 : keyword">if</span> <span class="ash-identifier" title="token n°28 : identifier">CONDITION</span><span class="ash-separator" title="token n°29 : separator">]</span> <span class="ash-keyword" title="token n°31 : keyword">do</span><span class="ash-newline" title="token n°32 : newline">
</span>    <span class="ash-identifier" title="token n°34 : identifier">ACTION</span><span class="ash-newline" title="token n°35 : newline">
</span><span class="ash-keyword" title="token n°36 : keyword">loop</span><span class="ash-newline" title="token n°37 : newline">
</span><span class="ash-newline" title="token n°38 : newline">
</span><span class="ash-keyword" title="token n°39 : keyword">break</span><span class="ash-newline" title="token n°40 : newline">
</span><span class="ash-keyword" title="token n°41 : keyword">next</span><span class="ash-newline" title="token n°42 : newline">
</span></pre>
<h2 id="4.-sous-programmes">4. Sous-programmes</h2>
<h3 id="4.1-fonctions">4.1 Fonctions</h3>
<pre>
<span class="ash-keyword" title="token n°0 : keyword">fun</span><span class="ash-separator" title="token n°1 : separator">[</span><span class="ash-identifier" title="token n°2 : identifier">ction</span><span class="ash-separator" title="token n°3 : separator">]</span> <span class="ash-identifier" title="token n°5 : identifier">ID</span> <span class="ash-separator" title="token n°7 : separator">(</span><span class="ash-identifier" title="token n°8 : identifier">P1</span> <span class="ash-separator" title="token n°10 : separator">[</span><span class="ash-separator" title="token n°11 : separator">:</span> <span class="ash-identifier" title="token n°13 : identifier">T1</span><span class="ash-separator" title="token n°14 : separator">]</span><span class="ash-separator" title="token n°15 : separator">,</span> <span class="ash-identifier" title="token n°17 : identifier">P2</span> <span class="ash-separator" title="token n°19 : separator">[</span><span class="ash-separator" title="token n°20 : separator">:</span> <span class="ash-identifier" title="token n°22 : identifier">T2</span><span class="ash-separator" title="token n°23 : separator">]</span><span class="ash-separator" title="token n°24 : separator">)</span> <span class="ash-separator" title="token n°26 : separator">[</span><span class="ash-separator" title="token n°27 : separator">:</span> <span class="ash-identifier" title="token n°29 : identifier">TYPE</span><span class="ash-separator" title="token n°30 : separator">]</span><span class="ash-newline" title="token n°31 : newline">
</span>    <span class="ash-identifier" title="token n°33 : identifier">ACTION</span><span class="ash-newline" title="token n°34 : newline">
</span>    <span class="ash-keyword" title="token n°36 : keyword">return</span> <span class="ash-identifier" title="token n°38 : identifier">EXPR</span><span class="ash-newline" title="token n°39 : newline">
</span><span class="ash-keyword" title="token n°40 : keyword">end</span><span class="ash-newline" title="token n°41 : newline">
</span></pre>
<h3 id="4.2-procédures">4.2 Procédures</h3>
<pre>
<span class="ash-keyword" title="token n°0 : keyword">pro</span><span class="ash-separator" title="token n°1 : separator">[</span><span class="ash-identifier" title="token n°2 : identifier">cedure</span><span class="ash-separator" title="token n°3 : separator">]</span> <span class="ash-identifier" title="token n°5 : identifier">ID</span> <span class="ash-separator" title="token n°7 : separator">(</span><span class="ash-identifier" title="token n°8 : identifier">P1</span> <span class="ash-separator" title="token n°10 : separator">[</span><span class="ash-separator" title="token n°11 : separator">:</span> <span class="ash-identifier" title="token n°13 : identifier">T1</span><span class="ash-separator" title="token n°14 : separator">]</span><span class="ash-separator" title="token n°15 : separator">,</span> <span class="ash-identifier" title="token n°17 : identifier">P2</span> <span class="ash-separator" title="token n°19 : separator">[</span><span class="ash-separator" title="token n°20 : separator">:</span> <span class="ash-identifier" title="token n°22 : identifier">T2</span><span class="ash-separator" title="token n°23 : separator">]</span><span class="ash-separator" title="token n°24 : separator">)</span><span class="ash-newline" title="token n°25 : newline">
</span>    <span class="ash-identifier" title="token n°27 : identifier">ACTION</span><span class="ash-newline" title="token n°28 : newline">
</span>    <span class="ash-keyword" title="token n°30 : keyword">return</span><span class="ash-newline" title="token n°31 : newline">
</span><span class="ash-keyword" title="token n°32 : keyword">end</span><span class="ash-newline" title="token n°33 : newline">
</span></pre>
<h3 id="4.3-getters">4.3 Getters</h3>
<p>Un getter est une fonction qui ne prend pas de paramètres. Elle sert à retourner des valeurs qui sont calculées. On évitera de mettre des calculs trop importants dans un getter.</p>
<pre>
<span class="ash-keyword" title="token n°0 : keyword">get</span> <span class="ash-identifier" title="token n°2 : identifier">ID</span> <span class="ash-separator" title="token n°4 : separator">:</span> <span class="ash-identifier" title="token n°6 : identifier">TYPE</span><span class="ash-newline" title="token n°7 : newline">
</span>    <span class="ash-identifier" title="token n°9 : identifier">ACTION</span><span class="ash-newline" title="token n°10 : newline">
</span>    <span class="ash-keyword" title="token n°12 : keyword">return</span> <span class="ash-identifier" title="token n°14 : identifier">EXPR</span><span class="ash-newline" title="token n°15 : newline">
</span><span class="ash-keyword" title="token n°16 : keyword">end</span><span class="ash-newline" title="token n°17 : newline">
</span></pre>
<h2 id="5.-classes-et-objets">5. Classes et objets</h2>
<pre>
<span class="ash-keyword" title="token n°0 : keyword">class</span> <span class="ash-identifier" title="token n°2 : identifier">ID</span> <span class="ash-separator" title="token n°4 : separator">[</span><span class="ash-operator" title="token n°5 : operator">&lt;</span> <span class="ash-identifier" title="token n°7 : identifier">SUPER</span><span class="ash-separator" title="token n°8 : separator">]</span><span class="ash-newline" title="token n°9 : newline">
</span>    <span class="ash-separator" title="token n°11 : separator">[</span><span class="ash-keyword" title="token n°12 : keyword">static</span> <span class="ash-keyword" title="token n°14 : keyword">const</span><span class="ash-separator" title="token n°15 : separator">,</span> <span class="ash-keyword" title="token n°17 : keyword">static</span> <span class="ash-keyword" title="token n°19 : keyword">var</span><span class="ash-separator" title="token n°20 : separator">,</span> <span class="ash-separator" title="token n°22 : separator">[</span><span class="ash-keyword" title="token n°23 : keyword">var</span><span class="ash-separator" title="token n°24 : separator">]</span><span class="ash-separator" title="token n°25 : separator">]</span> <span class="ash-identifier" title="token n°27 : identifier">ID</span> <span class="ash-operator" title="token n°29 : operator">=</span> <span class="ash-identifier" title="token n°31 : identifier">EXPR</span><span class="ash-newline" title="token n°32 : newline">
</span>    <span class="ash-separator" title="token n°34 : separator">[</span><span class="ash-keyword" title="token n°35 : keyword">static</span><span class="ash-separator" title="token n°36 : separator">]</span> <span class="ash-keyword" title="token n°38 : keyword">fun</span> <span class="ash-keyword" title="token n°40 : keyword">or</span> <span class="ash-keyword" title="token n°42 : keyword">pro</span><span class="ash-newline" title="token n°43 : newline">
</span>    <span class="ash-keyword" title="token n°45 : keyword">pro</span> <span class="ash-identifier" title="token n°47 : identifier">init</span><span class="ash-separator" title="token n°48 : separator">(</span><span class="ash-identifier" title="token n°49 : identifier">@a</span> <span class="ash-identifier" title="token n°51 : identifier">int</span><span class="ash-separator" title="token n°52 : separator">,</span> <span class="ash-identifier" title="token n°54 : identifier">b</span> <span class="ash-identifier" title="token n°56 : identifier">int</span><span class="ash-separator" title="token n°57 : separator">)</span><span class="ash-newline" title="token n°58 : newline">
</span>        <span class="ash-identifier" title="token n°60 : identifier">@b</span> <span class="ash-operator" title="token n°62 : operator">=</span> <span class="ash-identifier" title="token n°64 : identifier">b</span><span class="ash-newline" title="token n°65 : newline">
</span>    <span class="ash-keyword" title="token n°67 : keyword">end</span><span class="ash-newline" title="token n°68 : newline">
</span><span class="ash-keyword" title="token n°69 : keyword">end</span><span class="ash-newline" title="token n°70 : newline">
</span></pre>
<p>Un attribut est une variable attachée à une instance particulière, on le préfixe par @ à l'intérieur des méthodes d'une classe. Lors de sa déclaration en dehors d'une fonction, on ne le préfixe pas :</p>
<pre>
<span class="ash-keyword" title="token n°0 : keyword">class</span> <span class="ash-identifier" title="token n°2 : identifier">personne</span><span class="ash-newline" title="token n°3 : newline">
</span>    <span class="ash-identifier" title="token n°5 : identifier">age</span> <span class="ash-separator" title="token n°7 : separator">:</span> <span class="ash-identifier" title="token n°9 : identifier">int</span><span class="ash-newline" title="token n°10 : newline">
</span>    <span class="ash-identifier" title="token n°12 : identifier">name</span> <span class="ash-separator" title="token n°14 : separator">:</span> <span class="ash-identifier" title="token n°16 : identifier">string</span><span class="ash-newline" title="token n°17 : newline">
</span>    <span class="ash-keyword" title="token n°19 : keyword">fun</span> <span class="ash-identifier" title="token n°21 : identifier">hello</span><span class="ash-separator" title="token n°22 : separator">(</span><span class="ash-separator" title="token n°23 : separator">)</span> <span class="ash-separator" title="token n°25 : separator">:</span> <span class="ash-identifier" title="token n°27 : identifier">void</span><span class="ash-newline" title="token n°28 : newline">
</span>        <span class="ash-special" title="token n°30 : special">writeln</span><span class="ash-separator" title="token n°31 : separator">(</span><span class="ash-string" title="token n°32 : string">"Bonjour, je suis ${@name} et j'ai ${@age} ans"</span><span class="ash-separator" title="token n°33 : separator">)</span><span class="ash-newline" title="token n°34 : newline">
</span>    <span class="ash-keyword" title="token n°36 : keyword">end</span><span class="ash-newline" title="token n°37 : newline">
</span><span class="ash-keyword" title="token n°38 : keyword">end</span><span class="ash-newline" title="token n°39 : newline">
</span></pre>
<pre>
<span class="ash-identifier" title="token n°0 : identifier">self</span><span class="ash-newline" title="token n°1 : newline">
</span><span class="ash-identifier" title="token n°2 : identifier">super</span><span class="ash-newline" title="token n°3 : newline">
</span><span class="ash-newline" title="token n°4 : newline">
</span><span class="ash-identifier" title="token n°5 : identifier">a</span> <span class="ash-operator" title="token n°7 : operator">=</span> <span class="ash-identifier" title="token n°9 : identifier">ID</span><span class="ash-operator" title="token n°10 : operator">.</span><span class="ash-identifier" title="token n°11 : identifier">new</span><span class="ash-separator" title="token n°12 : separator">(</span><span class="ash-identifier" title="token n°13 : identifier">param</span><span class="ash-separator" title="token n°14 : separator">)</span><span class="ash-newline" title="token n°15 : newline">
</span><span class="ash-newline" title="token n°16 : newline">
</span><span class="ash-keyword" title="token n°17 : keyword">class</span> <span class="ash-identifier" title="token n°19 : identifier">Point</span>          <span class="ash-identifier" title="token n°21 : identifier">object</span> <span class="ash-separator" title="token n°23 : separator">(</span><span class="ash-identifier" title="token n°24 : identifier">fixed</span> <span class="ash-identifier" title="token n°26 : identifier">fields</span><span class="ash-separator" title="token n°27 : separator">)</span><span class="ash-operator" title="token n°28 : operator">/</span><span class="ash-identifier" title="token n°29 : identifier">obj</span><span class="ash-newline" title="token n°30 : newline">
</span>   <span class="ash-identifier" title="token n°32 : identifier">x</span> <span class="ash-identifier" title="token n°34 : identifier">int</span><span class="ash-newline" title="token n°35 : newline">
</span>   <span class="ash-identifier" title="token n°37 : identifier">y</span> <span class="ash-identifier" title="token n°39 : identifier">int</span><span class="ash-newline" title="token n°40 : newline">
</span><span class="ash-keyword" title="token n°41 : keyword">end</span><span class="ash-newline" title="token n°42 : newline">
</span><span class="ash-identifier" title="token n°43 : identifier">@attr</span> <span class="ash-comment" title="token n°45 : comment">-- instance attribute</span><span class="ash-newline" title="token n°46 : newline">
</span><span class="ash-operator" title="token n°47 : operator">$attr -- class attribute (en Ruby pour global et @@ pour class)

if o is Class c then
   -- vous pouvez utiliser c dans ce bloc
end

static class Order &lt; String -- no instance &lt;=&gt; enum
    static Move = "Move"
    static Wait = "Wait"
    static Attack = "Attack"
    static Follow = "Follow"
end
</span></pre>
<h2 id="6.-gestion-des-erreurs">6. Gestion des erreurs</h2>
<pre>
<span class="ash-keyword" title="token n°0 : keyword">return</span> <span class="ash-identifier" title="token n°2 : identifier">EXCEPTION</span><span class="ash-newline" title="token n°3 : newline">
</span><span class="ash-newline" title="token n°4 : newline">
</span><span class="ash-keyword" title="token n°5 : keyword">fun</span> <span class="ash-identifier" title="token n°7 : identifier">div</span><span class="ash-separator" title="token n°8 : separator">(</span><span class="ash-identifier" title="token n°9 : identifier">a</span> <span class="ash-separator" title="token n°11 : separator">:</span> <span class="ash-identifier" title="token n°13 : identifier">num</span><span class="ash-separator" title="token n°14 : separator">,</span> <span class="ash-identifier" title="token n°16 : identifier">b</span> <span class="ash-separator" title="token n°18 : separator">:</span> <span class="ash-identifier" title="token n°20 : identifier">num</span><span class="ash-separator" title="token n°21 : separator">)</span> <span class="ash-separator" title="token n°23 : separator">:</span> <span class="ash-identifier" title="token n°25 : identifier">num</span><span class="ash-newline" title="token n°26 : newline">
</span>    <span class="ash-keyword" title="token n°28 : keyword">if</span> <span class="ash-identifier" title="token n°30 : identifier">b</span> <span class="ash-operator" title="token n°32 : operator">==</span> <span class="ash-number" title="token n°34 : number">0</span> <span class="ash-keyword" title="token n°36 : keyword">then</span><span class="ash-newline" title="token n°37 : newline">
</span>        <span class="ash-keyword" title="token n°39 : keyword">return</span> <span class="ash-identifier" title="token n°41 : identifier">DivByZeroException</span><span class="ash-newline" title="token n°42 : newline">
</span>    <span class="ash-keyword" title="token n°44 : keyword">else</span><span class="ash-newline" title="token n°45 : newline">
</span>        <span class="ash-keyword" title="token n°47 : keyword">return</span> <span class="ash-identifier" title="token n°49 : identifier">a</span> <span class="ash-operator" title="token n°51 : operator">/</span> <span class="ash-identifier" title="token n°53 : identifier">b</span><span class="ash-newline" title="token n°54 : newline">
</span>    <span class="ash-keyword" title="token n°56 : keyword">end</span><span class="ash-newline" title="token n°57 : newline">
</span><span class="ash-keyword" title="token n°58 : keyword">end</span><span class="ash-newline" title="token n°59 : newline">
</span><span class="ash-newline" title="token n°60 : newline">
</span><span class="ash-identifier" title="token n°61 : identifier">div</span><span class="ash-separator" title="token n°62 : separator">(</span><span class="ash-number" title="token n°63 : number">5</span><span class="ash-separator" title="token n°64 : separator">,</span> <span class="ash-number" title="token n°66 : number">0</span><span class="ash-separator" title="token n°67 : separator">)</span><span class="ash-newline" title="token n°68 : newline">
</span><span class="ash-keyword" title="token n°69 : keyword">if</span> <span class="ash-identifier" title="token n°71 : identifier">DivByZeroException</span> <span class="ash-keyword" title="token n°73 : keyword">then</span><span class="ash-newline" title="token n°74 : newline">
</span>    <span class="ash-special" title="token n°76 : special">writeln</span><span class="ash-separator" title="token n°77 : separator">(</span><span class="ash-string" title="token n°78 : string">"An exception has been catched"</span><span class="ash-separator" title="token n°79 : separator">)</span><span class="ash-newline" title="token n°80 : newline">
</span><span class="ash-keyword" title="token n°81 : keyword">end</span><span class="ash-newline" title="token n°82 : newline">
</span><span class="ash-newline" title="token n°83 : newline">
</span></pre>
<h2 id="7.-modules">7. Modules</h2>
<pre>
 <span class="ash-keyword" title="token n°1 : keyword">import</span> <span class="ash-identifier" title="token n°3 : identifier">SYMBOL</span><span class="ash-separator" title="token n°4 : separator">[</span><span class="ash-operator" title="token n°5 : operator">.</span><span class="ash-identifier" title="token n°6 : identifier">SYMBOL</span><span class="ash-separator" title="token n°7 : separator">]</span> <span class="ash-separator" title="token n°9 : separator">[</span><span class="ash-identifier" title="token n°10 : identifier">include</span> <span class="ash-identifier" title="token n°12 : identifier">ELEM1</span><span class="ash-separator" title="token n°13 : separator">[</span><span class="ash-separator" title="token n°14 : separator">,</span> <span class="ash-identifier" title="token n°16 : identifier">ELEMi</span><span class="ash-separator" title="token n°17 : separator">]</span><span class="ash-separator" title="token n°18 : separator">]</span><span class="ash-newline" title="token n°19 : newline">
</span> <span class="ash-keyword" title="token n°21 : keyword">import</span> <span class="ash-identifier" title="token n°23 : identifier">FILEPATH</span> <span class="ash-identifier" title="token n°25 : identifier">as</span> <span class="ash-identifier" title="token n°27 : identifier">SYMBOL</span> <span class="ash-separator" title="token n°29 : separator">[</span><span class="ash-identifier" title="token n°30 : identifier">include</span> <span class="ash-identifier" title="token n°32 : identifier">ELEM1</span><span class="ash-separator" title="token n°33 : separator">[</span><span class="ash-separator" title="token n°34 : separator">,</span> <span class="ash-identifier" title="token n°36 : identifier">ELEMi</span><span class="ash-separator" title="token n°37 : separator">]</span><span class="ash-separator" title="token n°38 : separator">]</span><span class="ash-newline" title="token n°39 : newline">
</span></pre>
<p>Accès via symbol.membre</p>
<p>Un fichier = un module</p>
<p>Pour l'importer : require str ex :</p>
<ol reversed>
  <li>require "flat.ash"</li>
  <li>require "../flat.ash"</li>
</ol>
<pre>
<span class="ash-identifier" title="token n°0 : identifier">module</span> <span class="ash-identifier" title="token n°2 : identifier">ID</span> <span class="ash-operator" title="token n°4 : operator">&lt;</span> <span class="ash-identifier" title="token n°6 : identifier">SUPER</span><span class="ash-newline" title="token n°7 : newline">
</span>    <span class="ash-comment" title="token n°9 : comment">-- pas d'instanciation !</span><span class="ash-newline" title="token n°10 : newline">
</span>    <span class="ash-comment" title="token n°12 : comment">-- permet de faire :</span><span class="ash-newline" title="token n°13 : newline">
</span>    <span class="ash-comment" title="token n°15 : comment">-- des classes statiques</span><span class="ash-newline" title="token n°16 : newline">
</span>    <span class="ash-comment" title="token n°18 : comment">-- des interfaces</span><span class="ash-newline" title="token n°19 : newline">
</span><span class="ash-keyword" title="token n°20 : keyword">end</span><span class="ash-newline" title="token n°21 : newline">
</span></pre>
<h2 id="8.-bibliothèque-standard">8. Bibliothèque standard</h2>
<pre>
<span class="ash-identifier" title="token n°0 : identifier">ID</span> <span class="ash-separator" title="token n°2 : separator">[</span><span class="ash-identifier" title="token n°3 : identifier">module</span><span class="ash-separator" title="token n°4 : separator">]</span> <span class="ash-operator" title="token n°6 : operator">=</span> <span class="ash-keyword" title="token n°8 : keyword">import</span> <span class="ash-separator" title="token n°10 : separator">(</span><span class="ash-identifier" title="token n°11 : identifier">FILEPATH</span> <span class="ash-operator" title="token n°13 : operator">|</span> <span class="ash-identifier" title="token n°15 : identifier">ID</span><span class="ash-separator" title="token n°16 : separator">)</span> <span class="ash-separator" title="token n°18 : separator">[</span> <span class="ash-operator" title="token n°20 : operator">&gt;</span> <span class="ash-identifier" title="token n°22 : identifier">ID1</span><span class="ash-separator" title="token n°23 : separator">,</span> <span class="ash-identifier" title="token n°25 : identifier">ID2</span> <span class="ash-separator" title="token n°27 : separator">]</span><span class="ash-newline" title="token n°28 : newline">
</span><span class="ash-newline" title="token n°29 : newline">
</span><span class="ash-identifier" title="token n°30 : identifier">module</span> <span class="ash-identifier" title="token n°32 : identifier">ID</span> <span class="ash-comment" title="token n°34 : comment">-- (en tête de fichier, pas de fin) (plutôt que package ou namespace)</span><span class="ash-newline" title="token n°35 : newline">
</span></pre>
<h3 id="8.1-noyau">8.1 Noyau</h3>
<p>Object<br>
o.clone<br>
o.methods<br>
o.respond_to?<br>
o.dump<br>
o.load<br>
Hash<br>
d.delete<br>
d.find<br>
d.keys<br>
d.values</p>
<h3 id="8.2-console">8.2 Console</h3>
<p>writeln<br>
write</p>
<h3 id="8.3-fichiers">8.3 Fichiers</h3>
<h3 id="8.4-système-d'exploitation">8.4 Système d'exploitation</h3>
<h2 id="9.-implémentations-et-interfaces">9. Implémentations et interfaces</h2>
<h3 id="9.1-ash/python">9.1 Ash/Python</h3>
<h3 id="9.2-ash/javascript">9.2 Ash/JavaScript</h3>
<h3 id="9.3-ash/c">9.3 Ash/C</h3>
<h3 id="9.4-ash/php">9.4 Ash/PHP</h3>
<h3 id="9.5-ash/lua">9.5 Ash/Lua</h3>
<h3 id="10.-liste-des-éléments-du-langage">10. Liste des éléments du langage</h3>
<table>
<tr><th> Type        </th><th> Eléments        </th></tr>
<tr><td> Séparateurs </td><td> ( ) [ ] { } , ; </td></tr>
</table>
<h3 id="11.-eléments-de-style">11. Eléments de style</h3>
<ol>
  <li>snake_case pour les méthodes, les attributs et les variables,</li>
  <li>PascalCase pour les classes,</li>
  <li>MAJUSCULES pour les constantes.</li>
</ol>
</div>
</div>

  </body>
</html>